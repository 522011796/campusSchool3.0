{"version":3,"file":"pages/login.js","sources":["webpack:///./pages/login.vue?8bf7","webpack:///./static/img/login-logo.png","webpack:///./static/img/login-screen-icon.png","webpack:///./static/img/login-text-left-icon.png","webpack:///./static/img/login-icon-left-text.png","webpack:///./static/img/login-text-right-icon.png","webpack:///./pages/login.vue?9c8c","webpack:///./pages/login.vue?161b","webpack:///./pages/login.vue?3bd9","webpack:///./utils/validater/loginPhoneValidater.js","webpack:///./pages/login.vue","webpack:///./pages/login.vue?e65c","webpack:///./pages/login.vue?0a01"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=6b4e4993&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"22f85432\", content, true, context)\n};","module.exports = __webpack_public_path__ + \"img/login-logo.93338f4.png\";","module.exports = __webpack_public_path__ + \"img/login-screen-icon.0761a0b.png\";","module.exports = __webpack_public_path__ + \"img/login-text-left-icon.d063af1.png\";","module.exports = __webpack_public_path__ + \"img/login-icon-left-text.5601322.png\";","module.exports = __webpack_public_path__ + \"img/login-text-right-icon.b4184c7.png\";","import mod from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=6b4e4993&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=6b4e4993&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".login-bg-class[data-v-6b4e4993]{position:absolute;top:0;left:0;height:100%;width:100%;min-width:1200px}.login-bg-icon-class[data-v-6b4e4993]{position:absolute;top:50%;left:20%;transform:translateY(-50%);height:300px;width:350px}.login-main-title-class[data-v-6b4e4993]{position:absolute;top:50%;left:15%;transform:translateY(-5%)}.login-block[data-v-6b4e4993]{height:450px;top:13%;background:#00cdff;background-image:linear-gradient(180deg,#00cdff,#0089d4)}.login-block[data-v-6b4e4993],.login-title[data-v-6b4e4993]{width:100%;min-width:1200px;position:relative}.login-title[data-v-6b4e4993]{height:88px;top:-85px;left:0;padding:0}.login-title-logo-block[data-v-6b4e4993]{margin-left:80px}.login-footer[data-v-6b4e4993]{height:80px;line-height:80px;width:100%;min-width:1200px;position:relative;top:18%;left:0;z-index:9}.login-logo[data-v-6b4e4993]{width:300px;height:100%}.login-tag-info[data-v-6b4e4993]{position:relative;bottom:10px}.login-tag-info label[data-v-6b4e4993]{padding:0 10px;font-size:14px}.login-user-opr[data-v-6b4e4993]{position:absolute;top:-6%;right:8%;width:320px;height:450px;background:#fafafa;padding:25px 20px;box-shadow:0 2px 5px rgba(0,0,0,.5)}.login-user-title[data-v-6b4e4993]{color:#0089d4;font-weight:700;font-size:20px}.login-title-label[data-v-6b4e4993]{color:#515151}.login-btn[data-v-6b4e4993]{width:100%}.login-bottom-other label[data-v-6b4e4993]{padding:0 20px}.login-main-title-text-class[data-v-6b4e4993]{height:40px;width:400px}.login-main-title-icon-left-class[data-v-6b4e4993]{height:40px;width:70px}.login-main-title-icon-right-class[data-v-6b4e4993]{height:40px;width:35px}.login-bottom-other-block[data-v-6b4e4993]{position:absolute;left:0;bottom:30px;width:100%;padding:0}.login-user-change-tag[data-v-6b4e4993]{position:absolute;right:0;top:0;color:#fefefe;font-size:12px;background:#e6a23c;border-top-left-radius:10px;border-bottom-left-radius:10px;padding:2px 8px}.left-bottom-triangle[data-v-6b4e4993]{border-right:18px solid transparent;right:-19px}.left-bottom-triangle[data-v-6b4e4993],.right-bottom-triangle[data-v-6b4e4993]{width:0;height:0;border-top:23px solid #909399;position:absolute;bottom:0}.right-bottom-triangle[data-v-6b4e4993]{border-left:18px solid transparent;left:-19px}.right-top-triangle[data-v-6b4e4993]{border-right:18px solid transparent;right:-18px}.left-top-triangle[data-v-6b4e4993],.right-top-triangle[data-v-6b4e4993]{width:0;height:0;border-bottom:27px solid #909399;position:absolute;top:0}.left-top-triangle[data-v-6b4e4993]{border-left:18px solid transparent;left:-18px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",staticStyle:{\"overflow-y\":\"auto\",\"background\":\"url(/img/login-bg.png) no-repeat\",\"background-size\":\"cover\"},style:(_vm.fullHeight)},[(_vm.showContent == false)?_vm._ssrNode(\"<div style=\\\"position: relative\\\" data-v-6b4e4993>\",\"</div>\",[_c('layout-lr-before')],1):_vm._ssrNode(\"<div style=\\\"position: relative;top:13%;\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\" animated fadeInLeftBig\\\" data-v-6b4e4993><div data-v-6b4e4993><span class=\\\"login-title-logo-block\\\" data-v-6b4e4993><img\"+(_vm._ssrAttr(\"src\",require(\"static/img/login-logo.png\")))+\" class=\\\"login-logo\\\" data-v-6b4e4993></span> <span class=\\\"color-sub-grand login-tag-info\\\" data-v-6b4e4993><label data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"官网\")))+\"</label>\\n         |\\n        <label data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"帮助中心\")))+\"</label>\\n         |\\n        <label data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"关于我们\")))+\"</label></span></div></div> \"),_vm._ssrNode(\"<div class=\\\"login-block\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><img\"+(_vm._ssrAttr(\"src\",require(\"static/img/login-screen-icon.png\")))+\" class=\\\"login-bg-icon-class\\\" data-v-6b4e4993> <span class=\\\"login-main-title-class\\\" data-v-6b4e4993><img\"+(_vm._ssrAttr(\"src\",require(\"static/img/login-text-left-icon.png\")))+\" class=\\\"login-main-title-icon-left-class\\\" data-v-6b4e4993> <img\"+(_vm._ssrAttr(\"src\",require(\"static/img/login-icon-left-text.png\")))+\" class=\\\"login-main-title-text-class\\\" data-v-6b4e4993> <img\"+(_vm._ssrAttr(\"src\",require(\"static/img/login-text-right-icon.png\")))+\" class=\\\"login-main-title-icon-right-class\\\" data-v-6b4e4993></span></div> \"),_vm._ssrNode(\"<div class=\\\"login-user-opr animated fadeInRightBig\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"left-top-triangle\\\" data-v-6b4e4993></div> <div class=\\\"right-top-triangle\\\" data-v-6b4e4993></div> <div class=\\\"right-bottom-triangle\\\" data-v-6b4e4993></div> <div class=\\\"left-bottom-triangle\\\" data-v-6b4e4993></div> \"+((_vm.userType == 1)?(\"<label class=\\\"login-user-change-tag select-none\\\" data-v-6b4e4993><i class=\\\"fa fa-retweet font-size-12\\\" data-v-6b4e4993></i>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.$t(\"切换教师\")))+\"</label>\"):\"<!---->\")+\" \"+((_vm.userType == 2)?(\"<label class=\\\"login-user-change-tag select-none\\\" data-v-6b4e4993><i class=\\\"fa fa-retweet font-size-12\\\" data-v-6b4e4993></i>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.$t(\"切换管理员\")))+\"</label>\"):\"<!---->\")+\" <div data-v-6b4e4993><span class=\\\"login-user-title\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"用户登录\")))+\"</span>\\n          ｜\\n          \"+((_vm.userType == 1)?(\"<span class=\\\"color-muted font-size-12\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"管理员登录\")))+\"</span>\"):\"<!---->\")+\" \"+((_vm.userType == 2)?(\"<span class=\\\"color-muted font-size-12\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"教师登录\")))+\"</span>\"):\"<!---->\")+\"</div> <div class=\\\"line-height\\\" data-v-6b4e4993></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-30\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"animated fadeInLeft\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.userType == 1) ? '' : 'none' }))+\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"用户名\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-20\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"密码\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{attrs:{\"show-password\":true},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],2)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"animated fadeInLeft\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.userType == 2) ? '' : 'none' }))+\" data-v-6b4e4993>\",\"</div>\",[(_vm.userSubType == 1)?_vm._ssrNode(\"<div data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"用户名/手机号\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-20\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"密码\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{attrs:{\"show-password\":true},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],2)],2):_vm._e(),_vm._ssrNode(\" \"),(_vm.userSubType == 3)?_vm._ssrNode(\"<div data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"学校编号\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.campusNo),callback:function ($$v) {_vm.$set(_vm.form, \"campusNo\", $$v)},expression:\"form.campusNo\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-20\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"工号\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-20\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"密码\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{attrs:{\"show-password\":true},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],2)],2):_vm._e(),_vm._ssrNode(\" \"),(_vm.userSubType == 2)?_vm._ssrNode(\"<div data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"身份证号码\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-20\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993><span class=\\\"login-title-label\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.$t(\"密码\")))+\"</span></div> \"),_vm._ssrNode(\"<div class=\\\"margin-top-5\\\" data-v-6b4e4993>\",\"</div>\",[_c('el-input',{attrs:{\"show-password\":true},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],2)],2):_vm._e()],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"margin-top-20\\\" data-v-6b4e4993>\",\"</div>\",[_vm._ssrNode(\"<div data-v-6b4e4993>\",\"</div>\",[_c('el-button',{staticClass:\"login-btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.dialogLoading},on:{\"click\":_vm.login}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t(\"登录\"))+\"\\n              \")])],1)]),_vm._ssrNode(\" \"+((_vm.userType == 2)?(\"<div class=\\\"login-bottom-other-block margin-top-40\\\" data-v-6b4e4993><div class=\\\"line-height\\\" data-v-6b4e4993></div> <div class=\\\"text-center login-bottom-other margin-top-10\\\" data-v-6b4e4993><label class=\\\"color-muted\\\" data-v-6b4e4993><i class=\\\"fa fa-user-circle-o\\\" data-v-6b4e4993></i>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.$t(\"账号/手机号\")))+\"</label> <label class=\\\"color-muted\\\" data-v-6b4e4993><i class=\\\"fa fa-id-card-o\\\" data-v-6b4e4993></i>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.$t(\"身份证\")))+\"</label> <label class=\\\"color-muted\\\" data-v-6b4e4993><i class=\\\"fa fa-credit-card\\\" data-v-6b4e4993></i>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.$t(\"工号\")))+\"</label></div></div>\"):\"<!---->\"))],2)],2)],2),_vm._ssrNode(\" <div class=\\\"login-footer\\\" data-v-6b4e4993><div class=\\\"color-muted text-center\\\" data-v-6b4e4993><span class=\\\"font-size-15\\\" data-v-6b4e4993>\"+_vm._ssrEscape(_vm._s(_vm.copyright_information))+\"</span></div></div>\")],2),_vm._ssrNode(\" \"),_c('dialog-normal',{attrs:{\"tabindex\":\"0\",\"visible\":_vm.modalVisible,\"width-style\":\"450px\",\"title\":_vm.$t('账户设置')},on:{\"close\":_vm.closeDialog,\"right-close\":_vm.cancelDialog}},[_c('span',{attrs:{\"tabindex\":\"1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"margin-top-10\"},[_c('div',{staticClass:\"padding-lr-30\"},[_c('div',[_c('span',{staticClass:\"color-warning\"},[_vm._v(_vm._s(_vm.$t(\"系统检测到您未进行账户激活，需要\")))])]),_vm._v(\" \"),_c('div',{staticClass:\"color-grand margin-top-10 font-size-18\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.$t(\"绑定手机\")))]),_vm._v(\" \"),_c('div',{staticClass:\"margin-top-10 color-muted\"},[_vm._v(_vm._s(_vm.$t(\"绑定后的手机号可以用于账号登录以及找回密码！\")))])]),_vm._v(\" \"),_c('el-form',{ref:\"formAuth\",staticClass:\"margin-top-20\",attrs:{\"model\":_vm.formAuth,\"rules\":_vm.rules,\"label-width\":\"90px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('手机号'),\"prop\":\"phone\"}},[_c('el-input',{staticClass:\"width-260\",model:{value:(_vm.formAuth.phone),callback:function ($$v) {_vm.$set(_vm.formAuth, \"phone\", $$v)},expression:\"formAuth.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('验证码'),\"prop\":\"code\"}},[_c('el-input',{staticClass:\"width-260\",model:{value:(_vm.formAuth.code),callback:function ($$v) {_vm.$set(_vm.formAuth, \"code\", $$v)},expression:\"formAuth.code\"}},[_c('template',{slot:\"append\"},[_c('timeout-button',{attrs:{\"action\":_vm.updatePhoneMms,\"data\":{newPhone: this.formAuth.phone, userId: this.formAuth.userId},\"auth-before\":_vm.authBefore}},[[_vm._v(_vm._s(_vm.$t(\"获取验证码\")))]],2)],1)],2)],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.cancelDialog}},[_vm._v(_vm._s(_vm.$t(\"取消\")))]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogLoading == false ? _vm.okDialog() : ''}}},[(_vm.dialogLoading)?_c('i',{staticClass:\"el-icon-loading\"}):_vm._e(),_vm._v(\"\\n        \"+_vm._s(_vm.$t(\"确定\"))+\"\\n      \")])],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import rules from './rules'\nexport default {\n  data(){\n    return {\n      rules: {\n        code: [\n          { required: true, message: this.$t(\"请输入信息\"), trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: this.$t(\"请输入信息\"), trigger: 'blur' },\n          { validator: rules.FormValidate.Form().validatePhone, trigger: 'blur' }\n        ]\n      }\n    }\n  }\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {common} from \"../utils/api/url\";\nimport DialogNormal from \"../components/utils/dialog/DialogNormal\";\nimport TimeoutButton from \"../components/utils/button/TimeoutButton\";\nimport {MessageSuccess, MessageError, getmd5, MessageWarning} from \"../utils/utils\";\nimport loginPhoneValidater from \"../utils/validater/loginPhoneValidater\";\n\nexport default {\n  layout: 'defaultFullScreen',\n  mixins: [loginPhoneValidater],\n  components: {DialogNormal,TimeoutButton},\n  data(){\n    return {\n      userType: '2',\n      userSubType: '1',\n      copyright_information: '',\n      dialogLoading: false,\n      modalVisible: false,\n      showContent: false,\n      updatePhoneMms: common.send_active_account,\n      form: {\n        username: '',\n        password: '',\n        campusNo: ''\n      },\n      formAuth: {\n        phone: '',\n        code: '',\n        userId: ''\n      },\n      fullHeight: {\n        height: ''\n      }\n    }\n  },\n  mounted() {\n    //Copyright © 2006-2017 All Rights Reserved. 大连网月科技股份有限公司 版权所有 辽ICP备12008717号\n    // 监听窗口大小\n    window.onresize = () => {\n      this.hh();\n    };\n\n    this.showContent = true;\n  },\n  beforeCreate: function(){\n    this.showContent = false;\n  },\n  created() {\n    this.hh();\n    this.initInfo();\n  },\n  methods: {\n    hh(){\n      if (process.browser) {\n        this.fullHeight.height = window.innerHeight + 20 + 'px';\n      }\n    },\n    initInfo(){\n      this.$axios.get(\"https://campus.9451.com/campusmanage/campus/get-copyright-information\",{loading: false}).then(res => {\n        if (res.data.code == 200){\n          this.copyright_information = res.data.data.copyright_information;\n        }\n      })\n    },\n    changeUserType(type){\n      this.form.username = \"\";\n      this.form.password = \"\";\n      this.form.campusNo = \"\";\n      this.userType = type;\n    },\n    changeSubType(type){\n      this.form.username = \"\";\n      this.form.password = \"\";\n      this.form.campusNo = \"\";\n      this.userSubType = type;\n    },\n    login(){\n      let userType = \"\";\n      if (this.form.username == \"\" || this.form.password == \"\"){\n        MessageWarning(this.$t(\"请输入正确的信息！\"));\n        return;\n      }\n      let params = {\n        clientType: 0,\n        accountType: 0,\n        account: this.form.username,\n        password: getmd5(this.form.password),\n      };\n      if (this.userSubType == 3){\n        params['campusNo'] = this.form.campusNo;\n        params['accountType'] = 1;\n      }else if (this.userSubType == 2){\n        params['accountType'] = 3;\n      }\n      if (this.userType == 1){\n        userType = 2;\n      }if (this.userType == 2){\n        userType = 4;\n      }\n      params['userType'] = userType;\n      params = this.$qs.stringify(params);\n      this.dialogLoading = true;\n      this.$axios.post(common.login_url, params, {loading: false}).then(res => {\n        if (res.data.code == 200){\n          this.$router.push(\"/\");\n          localStorage.removeItem(\"menuTabList\");\n          MessageSuccess(res.data.desc);\n        }else if (res.data.code == 2032){\n          this.formAuth.userId = res.data.data.userInfo.userId;\n          this.modalVisible = true;\n        }else {\n          MessageError(res.data.desc);\n        }\n        this.dialogLoading = false;\n      });\n    },\n    closeDialog(event){\n      let _self = this;\n      this.formAuth = {\n        phone: '',\n        code: '',\n        userId: ''\n      };\n      if (this.$refs['formAuth']){\n        this.$refs['formAuth'].resetFields();\n      }\n    },\n    authBefore(){\n      let phoneReg = /^[1][3,4,5,6,7,8,9][0-9]{9}$/;\n      if (this.formAuth.phone == \"\"){\n        MessageWarning(this.$t(\"请输入正确的手机号\"));\n        return false;\n      }else if (!phoneReg.test(this.formAuth.phone)){\n        return false;\n      }\n      return true;\n    },\n    okDialog(event){\n      let url = \"\";\n      this.$refs['formAuth'].validate((valid) => {\n        if (valid) {\n          this.dialogLoading = true;\n          let params = {\n            phone: this.formAuth.phone,\n            captcha: this.formAuth.code\n          };\n\n          params = this.$qs.stringify(params);\n          this.$axios.post(common.set_active_account, params, {loading: false}).then(res => {\n            if (res.data.code == 200){\n              this.modalVisible = false;\n              this.userType = 2;\n              this.userSubType = 1;\n              this.form.username = \"\";\n              this.form.password = \"\";\n              this.form.campusNo = \"\";\n              MessageSuccess(res.data.desc +\",\"+ this.$t(\"请使用激活的手机号进行登录！\"));\n            }else {\n              MessageError(res.data.desc);\n            }\n            this.dialogLoading = false;\n          });\n        }\n      });\n    },\n    cancelDialog(){\n      this.modalVisible = false;\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=6b4e4993&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./login.vue?vue&type=style&index=0&id=6b4e4993&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"6b4e4993\",\n  \"31b66845\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {LayoutLrBefore: require('/Users/likai/工作/object/vuejs/campusSchool3.0/components/Layout/LayoutLrBefore.vue').default,TimeoutButton: require('/Users/likai/工作/object/vuejs/campusSchool3.0/components/utils/button/TimeoutButton.vue').default,DialogNormal: require('/Users/likai/工作/object/vuejs/campusSchool3.0/components/utils/dialog/DialogNormal.vue').default})\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AANA;AADA;AAWA;AACA;AAdA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAlBA;AAsBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA,mBAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AArHA;AA5CA;;AC3MA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}