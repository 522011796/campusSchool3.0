(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1256:function(e,t,l){"use strict";l.r(t);l(179);var n=l(6),o={name:"mySelect",props:{placeholder:{default:"",type:String},selValue:{default:"",type:[String,Number,Boolean]},options:{default:function(){return[]},type:Array},size:{defalult:"medium",validate:function(e){return Object(n.D)(e,["large","medium","small","mini"])}},clearable:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},filterable:{default:!1,type:Boolean},remote:{default:!1,type:Boolean},loading:{default:!1,type:Boolean},group:{default:!1,type:Boolean},remoteMethod:{default:function(data){return data},type:Function},widthStyle:{default:"",type:[String,Number]}},computed:{selectModel:function(){this.value=this.selValue},setPlaceholder:function(){this.selectPlaceholder=this.placeholder?this.placeholder:this.$t("请选择")},setWidth:function(){this.widthStyle&&(this.width={width:this.widthStyle+"px"})}},data:function(){return{selectPlaceholder:"",value:"",width:""}},methods:{handleChange:function(data){this.$emit("change",data)}}},r=l(10),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-select",e._b({style:e.width,attrs:{setPlaceholder:e.setPlaceholder,placeholder:e.selectPlaceholder,size:e.size,clearable:e.clearable,disabled:e.disabled,filterable:e.filterable,loading:e.loading,remote:e.remote,"remote-method":e.remoteMethod,setWidth:e.setWidth},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-select",e.selectModel,!1),[0==e.group?e._l(e.options,(function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})):e._e(),e._v(" "),1==e.group?e._l(e.options,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)})):e._e()],2)],1)}),[],!1,null,null,null);t.default=component.exports},1257:function(e,t,l){"use strict";l.r(t);var n=l(6),o={name:"myInputButton",props:{placeholder:{default:"请输入内容",type:String},widthClass:{default:"width: 150px",type:String},selectWidthClass:{default:"width: 100px",type:String},size:{defalult:"medium",validate:function(e){return Object(n.D)(e,["large","medium","small","mini"])}},type:{defalult:"",validate:function(e){return Object(n.D)(e,["success","info","warning","danger","primary"])}},plain:{default:!1,type:Boolean},iconStyle:{default:"",type:String},showSelect:{default:!1,type:Boolean},clearable:{default:!1,type:Boolean},options:{default:function(){return[]},type:Array}},computed:{},mounted:function(){this.showIcon=""!==this.iconStyle},data:function(){return{inputValue:"",selectValue:"",showIcon:!1}},methods:{handleClick:function(data){var e={};this.selectValue?e={select:this.selectValue,input:this.inputValue}:this.selectValue||(e={input:this.inputValue}),this.$emit("click",e)},selectChange:function(data){this.selectValue=data}}},r=l(10),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("span",[l("el-input",{style:e.widthClass,attrs:{size:e.size,placeholder:e.placeholder,clearable:e.clearable},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[e.showSelect?l("el-select",{style:e.selectWidthClass,attrs:{slot:"prepend",clearable:e.clearable,placeholder:e.$t("请选择")},on:{change:e.selectChange},slot:"prepend",model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1):e._e()],1),e._v(" "),l("el-button",{attrs:{size:e.size,type:e.type,plain:e.plain},on:{click:e.handleClick}},[e.showIcon?l("i",{class:e.iconStyle}):e._e(),e._v("\n    "+e._s(e.$t("搜索"))+"\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports},1258:function(e,t,l){"use strict";l.r(t);l(179);var n,o=l(104),r=l(6),d={name:"myDatePicker",props:(n={selValue:{default:"",type:[Array,String]},size:{defalult:"medium",validate:function(e){return Object(r.D)(e,["large","medium","small","mini"])}},type:{defalult:"date",validate:function(e){return Object(r.D)(e,["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"])}},placeholder:{default:"选择日期",type:String}},Object(o.a)(n,"size",{defalult:"medium",validate:function(e){return Object(r.D)(e,["large","medium","small","mini"])}}),Object(o.a)(n,"widthStyle",{default:"",type:[String,Number]}),Object(o.a)(n,"disabled",{default:!1,type:Boolean}),Object(o.a)(n,"readonly",{default:!1,type:Boolean}),Object(o.a)(n,"rangeSeparator",{default:"至",type:String}),Object(o.a)(n,"startPlaceholder",{default:"开始时间",type:String}),Object(o.a)(n,"endPlaceholder",{default:"结束时间",type:String}),Object(o.a)(n,"format",{default:"yyyy-MM-dd",type:String}),Object(o.a)(n,"valueFormat",{default:"yyyy-MM-dd",type:String}),Object(o.a)(n,"unlinkPanels",{default:!0,type:Boolean}),Object(o.a)(n,"clearable",{default:!1,type:Boolean}),Object(o.a)(n,"editable",{default:!1,type:Boolean}),Object(o.a)(n,"pickerOptions",{default:function(){return{}},type:Object}),n),computed:{selectModel:function(){this.value=this.selValue},setWidth:function(){this.widthStyle&&(this.width={width:this.widthStyle+"px"})}},mounted:function(){},data:function(){return{value:"",width:""}},methods:{handleChange:function(data){this.$emit("change",data)}}},c=l(10),component=Object(c.a)(d,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("span",[l("el-date-picker",e._b({style:e.width,attrs:{type:e.type,placeholder:e.placeholder,size:e.size,disabled:e.disabled,readonly:e.readonly,"range-separator":e.rangeSeparator,"start-placeholder":e.startPlaceholder,"end-placeholder":e.endPlaceholder,"unlink-panels":e.unlinkPanels,format:e.format,"value-format":e.valueFormat,"picker-options":e.pickerOptions,setWidth:e.setWidth,clearable:e.clearable},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-date-picker",e.selectModel,!1))],1)}),[],!1,null,null,null);t.default=component.exports},1265:function(e,t,l){"use strict";l.r(t);l(179),l(53);var n=l(9),o=l(6),r={name:"myCascader",mixins:[l(76).a],props:{selValue:{default:function(){return[]},type:Array},props:{default:function(){return{}},type:Object},placeholder:{default:"请选择",type:String},label:{default:"",type:String},disabled:{default:!1,type:Boolean},clearable:{default:!1,type:Boolean},size:{defalult:"medium",validate:function(e){return Object(o.D)(e,["large","medium","small","mini"])}},type:{default:"",type:String},subType:{default:1,type:String},widthStyle:{default:"",type:[String,Number]},collapseTags:{default:!1,type:Boolean}},computed:{selectModel:function(){this.value=this.selValue},setWidth:function(){this.widthStyle&&(this.width={width:this.widthStyle+"px"})}},data:function(){return{value:"",options:[],width:"",data:[]}},created:function(){this.initInfo()},methods:{initInfo:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=e.type){t.next=6;break}return t.next=3,e.getCollegeInfo(e.subType);case 3:e.data=e.dataCollege,t.next=28;break;case 6:if(2!=e.type){t.next=12;break}return t.next=9,e.getDormBuildInfo(e.subType);case 9:e.data=e.dataDormBuild,t.next=28;break;case 12:if(3!=e.type){t.next=18;break}return t.next=15,e.getSchoolBuildInfo(e.subType);case 15:e.data=e.dataSchoolBuild,t.next=28;break;case 18:if(4!=e.type){t.next=24;break}return t.next=21,e.getDeptInfo(e.subType);case 21:e.data=e.dataDept,t.next=28;break;case 24:if(5!=e.type){t.next=28;break}return t.next=27,e.getRoleTreeInfo();case 27:e.data=e.dataRoleTreeList;case 28:case"end":return t.stop()}}),t)})))()},handleChange:function(data){this.$emit("change",data)}},watch:{type:function(e){this.initInfo()},subType:function(e){this.initInfo()}}},d=l(10),component=Object(d.a)(r,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-cascader",e._b({ref:"cascaderSelector",style:e.width,attrs:{options:e.data,setWidth:e.setWidth,disabled:e.disabled,clearable:e.clearable,size:e.size,props:e.props,placeholder:e.placeholder,"collapse-tags":e.collapseTags},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-cascader",e.selectModel,!1))],1)}),[],!1,null,null,null);t.default=component.exports},1269:function(e,t,l){"use strict";l.r(t);var n=l(6),o={name:"myRadio",props:{selValue:{default:"",type:[Boolean,String]},label:{default:"",type:[Boolean,String]},group:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},border:{default:!1,type:Boolean},button:{default:!1,type:Boolean},textColor:{default:"",type:String},fill:{default:"",type:String},options:{default:function(){return[]},type:Array},size:{defalult:"medium",validate:function(e){return Object(n.D)(e,["large","medium","small","mini"])}}},computed:{selectModel:function(){this.value=this.selValue}},data:function(){return{value:""}},methods:{handleChange:function(data){this.$emit("change",data)}}},r=l(10),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("span",[e.group?e._e():l("el-radio",e._b({attrs:{label:e.label,disabled:e.disabled,border:e.border,size:e.size},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-radio",e.selectModel,!1),[e._t("default")],2),e._v(" "),e.group?l("el-radio-group",e._b({attrs:{disabled:e.disabled,size:e.size,"text-color":e.textColor,fill:e.fill},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-radio-group",e.selectModel,!1),[e._l(e.options,(function(t){return e.button?e._e():l("el-radio",{key:t.value,attrs:{label:t.value,disabled:t.disabled,border:e.border}},[e._v(e._s(t.label))])})),e._v(" "),e._l(e.options,(function(t){return e.button?l("el-radio-button",{key:t.value,attrs:{label:t.value,disabled:t.disabled,border:e.border}},[e._v(e._s(t.label))]):e._e()}))],2):e._e()],1)}),[],!1,null,null,null);t.default=component.exports},1419:function(e,t,l){var content=l(1746);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(31).default)("3c4c7279",content,!0,{sourceMap:!1})},1745:function(e,t,l){"use strict";var n=l(1419);l.n(n).a},1746:function(e,t,l){(t=l(30)(!1)).push([e.i,".container[data-v-6160bbb2]{padding:10px 15px}.setting-td[data-v-6160bbb2]{height:100%;width:100%;font-size:12px;position:relative}.setting-icon[data-v-6160bbb2]{height:25px;width:25px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}",""]),e.exports=t},1980:function(e,t,l){"use strict";l.r(t);l(108),l(65),l(106),l(710),l(53);var n,o=l(9),r=l(104),d=l(234),c=l(76),f=l(7),h=l(6),m=l(1261),y=l(1256),v=l(1273),_=l(1258),k=l(1257),w=l(235),C=l(1312),x=l(1276),$=l(1313),S=l(86),T=l.n(S),O={data:function(){return{rules:{name:[{required:!0,message:this.$t("请输入名称"),trigger:"blur"},{validator:T.a.FormValidate.Form().validatenall1_20Reg,trigger:"blur"}],dormitoryIdList:[{required:!0,type:"array",min:1,message:this.$t("请选择信息"),trigger:"change"}],delay:[{required:!0,message:this.$t("请输入信息"),trigger:"blur"},{validator:T.a.FormValidate.Form().validateNumber,trigger:"blur"}]}}}},D={mixins:[c.a,O],components:(n={DormBuildTreeAndList:$.default,MyCheck:x.default,MyPagination:d.default,LayoutTb:m.default,MySelect:y.default,MyUserType:v.default,MyDatePicker:_.default,MyInputButton:k.default,DialogNormal:w.default,ClassroomTreeAndList:C.default},Object(r.a)(n,"MyCheck",x.default),Object(r.a)(n,"MySelect",y.default),Object(r.a)(n,"DormBuildTreeAndList",$.default),n),data:function(){return{tableData:[],tableSettingData:[],searchDate:[],typeList:[],sectionList:[],tableDayInfo:[],searchKey:"",visible:!1,modalVisible:!1,dialogLoading:!1,visibleConfim:!1,modalOtherVisible:!1,clearTime:"",action:"",subTitle:"",errorTips:"",tips:"",form:{id:"",name:"",startTime:"",endTime:"",delay:60,dormitoryIdList:[],checkbedRuleDay:[],rullType:""}}},created:function(){this.init()},methods:{init:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.initPage();case 1:case"end":return t.stop()}}),t)})))()},initPage:function(){var e=this,t={page:this.page,num:this.num};this.$axios.get(f.a.attend_dorm_setting_page,{params:t}).then((function(t){t.data.data&&(e.tableData=t.data.data.list,e.total=t.data.data.totalCount,e.num=t.data.data.num,e.page=t.data.data.currentPage)}))},initSetting:function(e){var t=this,l={};e&&(l={checkbedRuleId:e.id}),this.$axios.get(f.a.attend_dorm_setting_info,{params:l}).then((function(e){e.data.data&&(t.tableDayInfo=e.data.data)}))},addInfo:function(){this.initSetting(),this.modalVisible=!0},syncInfo:function(){this.oprType="sync",this.tips=this.$t("当天已考勤数据会被全部删除，是否确认？"),this.visibleConfim=!0},otherInfo:function(){this.modalOtherVisible=!0},editInfo:function(e){var t=e.dormitory_id_list?e.dormitory_id_list.split(","):[],l=[];this.form={id:e.id,name:e.name,startTime:e.start_time,endTime:e.end_time,delay:e.delay,checkbedRuleDay:[],rullType:e.rull_type};for(var i=0;i<t.length;i++)l.push({id:t[i]});this.$set(this.form,"dormitoryIdList",l),this.initSetting(e),this.modalVisible=!0},resetInfo:function(e){this.oprType="reset",this.form.id=e.id,this.subTitle=e.name,this.tips=this.$t("确认需要重置时间吗？"),this.visibleConfim=!0},search:function(data){this.searchKey=data.input,this.page=1,this.init()},sizeChange:function(e){this.page=1,this.num=e,this.init()},currentPage:function(e){this.page=e,this.init()},jumpPage:function(data){this.page=data,this.init()},handleSelect:function(data){this.form.type=data},deleteInfo:function(e){this.oprType="del",this.form.id=e.id,this.subTitle=e.name,this.tips="确认需要删除该信息？",this.visibleConfim=!0},handleOkChange:function(data){var e=this;this.dialogLoading=!0;var t="",l={};"del"==this.oprType?(l={id:this.form.id},t=f.a.attend_dorm_setting_delete):"reset"==this.oprType?(l={id:this.form.id},t=f.a.attend_dorm_setting_clear):"sync"==this.oprType&&(t=f.a.attend_dorm_setting_sync),l=this.$qs.stringify(l),"sync"==this.oprType?this.$axios.get(t,l).then((function(t){200==t.data.code?(e.init(),Object(h.b)(t.data.desc)):Object(h.a)(t.data.desc),e.visibleConfim=!1,e.dialogLoading=!1})):this.$axios.post(t,l).then((function(t){200==t.data.code?(e.init(),Object(h.b)(t.data.desc)):Object(h.a)(t.data.desc),e.visibleConfim=!1,e.dialogLoading=!1}))},handleCancelChange:function(data){this.visibleConfim=!1},cancelDialog:function(){this.modalVisible=!1},closeDialog:function(e){this.form={id:"",name:"",startTime:"",endTime:"",delay:60,dormitoryIdList:[],checkbedRuleDay:[],rullType:""},this.subTitle="",this.oprType,this.$refs.popverPartRef&&this.$refs.popverPartRef._handleResetChange(),this.$refs.form&&this.$refs.form.resetFields()},okDialog:function(e){var t=this,l="",n=this,o=[],r=[];this.errorTips="",this.$refs.form.validate((function(e){if(e){t.dialogLoading=!0;var d={checkbedRuleDay:t.form.checkbedRuleDay,delay:t.form.delay,endTime:t.form.endTime,name:t.form.name,startTime:t.form.startTime};if(t.tableDayInfo.map((function(e,t){e&&e.days.map((function(e,t){e&&r.push({busiTime:e.busiTime,weekNum:e.weekNum,weekNo:e.weekNo,rollCall:e.rollCall,festival:e.festival,checkbedRuleId:n.form.id})}))})),d.checkbedRuleDay=r,t.form.dormitoryIdList.length>0){for(var i=0;i<t.form.dormitoryIdList.length;i++)o.push(t.form.dormitoryIdList[i].id);d.dormitoryIdList=o}""!=t.form.id?(d.id=t.form.id,l=f.a.attend_dorm_setting_edit):l=f.a.attend_dorm_setting_add,t.$axios.post(l,JSON.stringify(d),{dataType:"stringfy",loading:!1}).then((function(e){200==e.data.code?(t.modalVisible=!1,t.init(),Object(h.b)(e.data.desc)):Object(h.a)(e.data.desc),t.dialogLoading=!1}))}}))},handleShowTeacher:function(e){this.$refs.popverPartRef._handleOpen()},handleHideeacher:function(){this.$refs.popverPartRef&&this.$refs.popverPartRef._handleResetChange()},handleSelUser:function(data){this.form.dormitoryIdList=data},handleChange:function(data,e){1==e?this.form.switchContinue=data:2==e?this.form.earlyEnable=data:3==e&&(this.form.continueSection=data)},handleChangeTime:function(data,e){1==e?this.form.startTime=data:2==e&&(this.form.endTime=data)},changeRollCall:function(e){e.rollCall=!e.rollCall},handleWeek:function(data,e){this.tableDayInfo.map((function(t,l){t.days.map((function(t,l){t&&t.weekNo==e&&(t.rollCall=data)}))}))}}},I=(l(1745),l(10)),component=Object(I.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("layout-tb",[n("template",{slot:"tag"},[e._v("考勤设置")]),e._v(" "),n("div",{attrs:{slot:"tab"},slot:"tab"},[n("el-row",[n("el-col",{attrs:{span:18}},[n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addInfo(t)}}},[e._v(e._s(e.$t("添加规则")))]),e._v(" "),n("el-button",{attrs:{size:"small",type:"warning",icon:"el-icon-s-help"},on:{click:function(t){return e.syncInfo(t)}}},[e._v(e._s(e.$t("同步生效")))])],1),e._v(" "),n("el-col",{staticClass:"text-right",attrs:{span:6}})],1)],1),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("el-table",{ref:"refTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-class-name":"custom-table-cell-bg",size:"medium","row-key":"id","max-height":e.tableHeight.height}},[n("el-table-column",{attrs:{align:"center",label:e.$t("名称")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[n("div",{staticClass:"text-center"},[e._v(e._s(t.row.name))]),e._v(" "),n("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[0==t.row.rull_type?n("span",{staticClass:"color-muted"},[e._v(e._s(t.row.name))]):e._e(),e._v(" "),0!=t.row.rull_type?n("span",[e._v(e._s(t.row.name))]):e._e()])])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("考勤地点")},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.rull_type?n("span",{staticClass:"color-muted"},[e._v(e._s(e.$t("全校")))]):e._e(),e._v(" "),0!=t.row.rull_type?n("el-popover",{attrs:{width:"400",trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[n("div",{staticClass:"text-center"},e._l(t.row.dormitory_no_list.split(","),(function(t,l){return n("el-tag",{key:l,staticClass:"margin-right-5 margin-bottom-5",attrs:{size:"mini",type:"success"}},[e._v(e._s(t))])})),1),e._v(" "),n("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},e._l(t.row.dormitory_no_list.split(","),(function(t,l){return n("el-tag",{key:l,staticClass:"margin-right-5",attrs:{size:"mini",type:"success"}},[e._v(e._s(t))])})),1)]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("考勤时间")},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.rull_type?n("span",{staticClass:"color-muted"},[e._v(e._s(t.row.start_time)+"-"+e._s(t.row.end_time))]):e._e(),e._v(" "),0!=t.row.rull_type?n("span",[e._v(e._s(t.row.start_time)+"-"+e._s(t.row.end_time))]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"fa fa-edit color-grand margin-right-5",on:{click:function(l){return e.editInfo(t.row)}}}),e._v(" "),n("i",{staticClass:"fa fa-clock-o color-warning margin-right-5",on:{click:function(l){return e.resetInfo(t.row)}}}),e._v(" "),0!=t.row.rull_type?n("i",{staticClass:"fa fa-trash color-danger",on:{click:function(l){return e.deleteInfo(t.row)}}}):e._e()]}}])})],1),e._v(" "),n("div",{staticClass:"layout-right-footer text-right"},[n("my-pagination",{staticClass:"layout-pagination",attrs:{total:e.total,"current-page":e.page,"page-size":e.num},on:{currentPage:e.currentPage,sizeChange:e.sizeChange,jumpChange:e.jumpPage}})],1)],1)],2),e._v(" "),n("dialog-normal",{attrs:{"width-style":"750px",visible:e.modalVisible,title:e.$t("设置分组")},on:{close:e.closeDialog,"right-close":e.cancelDialog}},[n("div",{staticClass:"margin-top-10"},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"140px"}},[n("el-form-item",{attrs:{label:e.$t("组名"),prop:"name"}},[n("el-input",{staticClass:"width-260",model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("时间设置")}},[n("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"128px"},attrs:{clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(t){return e.handleChangeTime(t,1)}},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}}),e._v("\n          -\n          "),n("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"128px"},attrs:{clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(t){return e.handleChangeTime(t,2)}},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("状态设置"),prop:"name"}},[n("table",{staticClass:"custom-table"},[n("tr",[n("th"),e._v(" "),n("th",[e._v(e._s(e.$t("周一"))),n("my-check",{on:{change:function(t){return e.handleWeek(t,1)}}})],1),e._v(" "),n("th",[e._v(e._s(e.$t("周二"))),n("my-check",{on:{change:function(t){return e.handleWeek(t,2)}}})],1),e._v(" "),n("th",[e._v(e._s(e.$t("周三"))),n("my-check",{on:{change:function(t){return e.handleWeek(t,3)}}})],1),e._v(" "),n("th",[e._v(e._s(e.$t("周四"))),n("my-check",{on:{change:function(t){return e.handleWeek(t,4)}}})],1),e._v(" "),n("th",[e._v(e._s(e.$t("周五"))),n("my-check",{on:{change:function(t){return e.handleWeek(t,5)}}})],1),e._v(" "),n("th",[e._v(e._s(e.$t("周六"))),n("my-check",{on:{change:function(t){return e.handleWeek(t,6)}}})],1),e._v(" "),n("th",[e._v(e._s(e.$t("周日"))),n("my-check",{on:{change:function(t){return e.handleWeek(t,7)}}})],1)]),e._v(" "),n("tbody",e._l(e.tableDayInfo,(function(t,o){return n("tr",{key:o},[n("td",[n("div",{staticClass:"setting-td color-muted"},[e._v("\n                    "+e._s(e.$t("第"))+e._s(t.weekNum)+e._s(e.$t("周"))+"\n                  ")])]),e._v(" "),e._l(t.days,(function(t,o){return n("td",{key:o},[n("div",{staticClass:"setting-td color-muted",on:{click:function(l){return e.changeRollCall(t)}}},[null!=t&&1==t.rollCall?n("img",{staticClass:"setting-icon",attrs:{src:l(1535)}}):e._e(),e._v(" "),n("label",{staticStyle:{"font-weight":"normal"}},[e._v(e._s(null!=t?t.busiTime:""))])])])}))],2)})),0)])]),e._v(" "),n("el-form-item",{attrs:{label:e.$t("晚归设置"),prop:"delay"}},[n("span",[e._v(e._s(e.$t("超过考勤时间")))]),n("el-input",{staticStyle:{width:"80px"},model:{value:e.form.delay,callback:function(t){e.$set(e.form,"delay",t)},expression:"form.delay"}}),n("span",[e._v(e._s(e.$t("分钟标记为晚归")))])],1),e._v(" "),-1!=e.form.id?n("el-form-item",{attrs:{label:e.$t("考勤地点"),prop:"dormitoryIdList"}},[n("el-popover",{attrs:{"popper-class":"custom-popper-class-form",placement:"top",width:"700",trigger:"click"},on:{show:function(t){return e.handleShowTeacher(3)},hide:e.handleHideeacher}},[n("div",[n("dorm-build-tree-and-list",{ref:"popverPartRef",attrs:{"sel-arr":e.form.dormitoryIdList,"set-type":"check"},on:{select:e.handleSelUser}})],1),e._v(" "),n("el-button",{attrs:{slot:"reference",type:"success",plain:"",size:"small"},slot:"reference"},[e._v(e._s(e.$t("添加")))])],1),e._v(" "),n("span",{staticClass:"color-warning margin-left-10"},[n("i",{staticClass:"fa fa-user"}),e._v("\n            "+e._s(e.$t("已选择"))+e._s(e.form.dormitoryIdList.length)+e._s(e.$t("个宿舍"))+"\n          ")])],1):e._e()],1)],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:e.cancelDialog}},[e._v(e._s(e.$t("取消")))]),e._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){0==e.dialogLoading&&e.okDialog()}}},[e.dialogLoading?n("i",{staticClass:"el-icon-loading"}):e._e(),e._v("\n        "+e._s(e.$t("确定"))+"\n      ")])],1)]),e._v(" "),n("my-normal-dialog",{attrs:{visible:e.visibleConfim,loading:e.dialogLoading,title:"提示",detail:e.subTitle,content:e.tips},on:{"update:visible":function(t){e.visibleConfim=t},"ok-click":e.handleOkChange,"cancel-click":e.handleCancelChange,close:e.closeDialog}})],1)}),[],!1,null,"6160bbb2",null);t.default=component.exports;installComponents(component,{MyPagination:l(234).default,LayoutTb:l(1261).default,MyCheck:l(1276).default,DormBuildTreeAndList:l(1313).default,DialogNormal:l(235).default,MyNormalDialog:l(1260).default})}}]);