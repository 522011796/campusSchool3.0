(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{1256:function(t,e,l){"use strict";l.r(e);l(179);var n=l(6),o={name:"mySelect",props:{placeholder:{default:"",type:String},selValue:{default:"",type:[String,Number,Boolean]},options:{default:function(){return[]},type:Array},size:{defalult:"medium",validate:function(t){return Object(n.D)(t,["large","medium","small","mini"])}},clearable:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},filterable:{default:!1,type:Boolean},remote:{default:!1,type:Boolean},loading:{default:!1,type:Boolean},group:{default:!1,type:Boolean},remoteMethod:{default:function(data){return data},type:Function},widthStyle:{default:"",type:[String,Number]}},computed:{selectModel:function(){this.value=this.selValue},setPlaceholder:function(){this.selectPlaceholder=this.placeholder?this.placeholder:this.$t("请选择")},setWidth:function(){this.widthStyle&&(this.width={width:this.widthStyle+"px"})}},data:function(){return{selectPlaceholder:"",value:"",width:""}},methods:{handleChange:function(data){this.$emit("change",data)}}},r=l(10),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-select",t._b({style:t.width,attrs:{setPlaceholder:t.setPlaceholder,placeholder:t.selectPlaceholder,size:t.size,clearable:t.clearable,disabled:t.disabled,filterable:t.filterable,loading:t.loading,remote:t.remote,"remote-method":t.remoteMethod,setWidth:t.setWidth},on:{change:t.handleChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"el-select",t.selectModel,!1),[0==t.group?t._l(t.options,(function(t,e){return l("el-option",{key:e,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})):t._e(),t._v(" "),1==t.group?t._l(t.options,(function(e){return l("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)})):t._e()],2)],1)}),[],!1,null,null,null);e.default=component.exports},1257:function(t,e,l){"use strict";l.r(e);var n=l(6),o={name:"myInputButton",props:{placeholder:{default:"请输入内容",type:String},widthClass:{default:"width: 150px",type:String},selectWidthClass:{default:"width: 100px",type:String},size:{defalult:"medium",validate:function(t){return Object(n.D)(t,["large","medium","small","mini"])}},type:{defalult:"",validate:function(t){return Object(n.D)(t,["success","info","warning","danger","primary"])}},plain:{default:!1,type:Boolean},iconStyle:{default:"",type:String},showSelect:{default:!1,type:Boolean},clearable:{default:!1,type:Boolean},options:{default:function(){return[]},type:Array}},computed:{},mounted:function(){this.showIcon=""!==this.iconStyle},data:function(){return{inputValue:"",selectValue:"",showIcon:!1}},methods:{handleClick:function(data){var t={};this.selectValue?t={select:this.selectValue,input:this.inputValue}:this.selectValue||(t={input:this.inputValue}),this.$emit("click",t)},selectChange:function(data){this.selectValue=data}}},r=l(10),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("span",[l("el-input",{style:t.widthClass,attrs:{size:t.size,placeholder:t.placeholder,clearable:t.clearable},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[t.showSelect?l("el-select",{style:t.selectWidthClass,attrs:{slot:"prepend",clearable:t.clearable,placeholder:t.$t("请选择")},on:{change:t.selectChange},slot:"prepend",model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},t._l(t.options,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1):t._e()],1),t._v(" "),l("el-button",{attrs:{size:t.size,type:t.type,plain:t.plain},on:{click:t.handleClick}},[t.showIcon?l("i",{class:t.iconStyle}):t._e(),t._v("\n    "+t._s(t.$t("搜索"))+"\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports},1258:function(t,e,l){"use strict";l.r(e);l(179);var n,o=l(104),r=l(6),d={name:"myDatePicker",props:(n={selValue:{default:"",type:[Array,String]},size:{defalult:"medium",validate:function(t){return Object(r.D)(t,["large","medium","small","mini"])}},type:{defalult:"date",validate:function(t){return Object(r.D)(t,["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"])}},placeholder:{default:"选择日期",type:String}},Object(o.a)(n,"size",{defalult:"medium",validate:function(t){return Object(r.D)(t,["large","medium","small","mini"])}}),Object(o.a)(n,"widthStyle",{default:"",type:[String,Number]}),Object(o.a)(n,"disabled",{default:!1,type:Boolean}),Object(o.a)(n,"readonly",{default:!1,type:Boolean}),Object(o.a)(n,"rangeSeparator",{default:"至",type:String}),Object(o.a)(n,"startPlaceholder",{default:"开始时间",type:String}),Object(o.a)(n,"endPlaceholder",{default:"结束时间",type:String}),Object(o.a)(n,"format",{default:"yyyy-MM-dd",type:String}),Object(o.a)(n,"valueFormat",{default:"yyyy-MM-dd",type:String}),Object(o.a)(n,"unlinkPanels",{default:!0,type:Boolean}),Object(o.a)(n,"clearable",{default:!1,type:Boolean}),Object(o.a)(n,"editable",{default:!1,type:Boolean}),Object(o.a)(n,"pickerOptions",{default:function(){return{}},type:Object}),n),computed:{selectModel:function(){this.value=this.selValue},setWidth:function(){this.widthStyle&&(this.width={width:this.widthStyle+"px"})}},mounted:function(){},data:function(){return{value:"",width:""}},methods:{handleChange:function(data){this.$emit("change",data)}}},c=l(10),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("span",[l("el-date-picker",t._b({style:t.width,attrs:{type:t.type,placeholder:t.placeholder,size:t.size,disabled:t.disabled,readonly:t.readonly,"range-separator":t.rangeSeparator,"start-placeholder":t.startPlaceholder,"end-placeholder":t.endPlaceholder,"unlink-panels":t.unlinkPanels,format:t.format,"value-format":t.valueFormat,"picker-options":t.pickerOptions,setWidth:t.setWidth,clearable:t.clearable},on:{change:t.handleChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"el-date-picker",t.selectModel,!1))],1)}),[],!1,null,null,null);e.default=component.exports},1260:function(t,e,l){"use strict";l.r(e);l(6);var n={name:"myNormalDialog",props:{visible:{type:Boolean,default:!0},title:{type:String,default:""},content:{type:String,default:""},detail:{type:String,default:""},width:{type:String,default:"30%"},loading:{type:Boolean,default:!1}},computed:{openCardDialog:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}},setLoading:{get:function(){return this.loading},set:function(t){}}},data:function(){return{showLoading:!1}},methods:{handleOkChange:function(data){this.$emit("ok-click",data)},handleCancelChange:function(data){this.$emit("cancel-click",data)},closeDialog:function(data){this.$emit("close",data)}}},o=l(10),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-dialog",{staticClass:"custom-dialog",attrs:{visible:t.openCardDialog,"close-on-click-modal":!1,loading:t.loading},on:{"update:visible":function(e){t.openCardDialog=e},close:t.closeDialog}},[l("div",{attrs:{slot:"title"},slot:"title"},[l("div",{staticClass:"dialog-title"},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),l("div",{staticStyle:{height:"1px",background:"#EBEEF5",margin:"0px 0px"}})]),t._v(" "),l("div",{staticClass:"text-center"},[l("div",[l("i",{staticClass:"fa fa-info-circle",staticStyle:{"font-size":"18px"}}),t._v("\n        "+t._s(t.content)+"\n      ")]),t._v(" "),l("div",{staticClass:"color-muted font-size-12 margin-top-5"},[t._v("\n        "+t._s(t.detail)+"\n      ")])]),t._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("div",{staticStyle:{height:"1px",background:"#EBEEF5",margin:"0px 0px"}}),t._v(" "),l("el-row",[l("el-col",{staticClass:"text-center",attrs:{span:12}},[l("div",{staticStyle:{background:"#ffffff",width:"100%",height:"100%",cursor:"default"},on:{click:t.handleCancelChange}},[t._v(t._s(t.$t("取消")))])]),t._v(" "),l("el-col",{staticClass:"text-center",attrs:{span:12}},[l("div",{staticStyle:{background:"#f5f5f5",width:"100%",height:"100%",cursor:"default"},on:{click:function(e){0==t.loading&&t.handleOkChange()}}},[l("span",{class:{"color-muted":t.loading}},[t.loading?l("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n              "+t._s(t.$t("确定"))+"\n            ")])])])],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports},1261:function(t,e,l){"use strict";l.r(e);var n={name:"LayoutTb",data:function(){return{showTab:!0,showTag:!1}},mounted:function(){this.showTab=void 0!==this.$slots.tab},created:function(){},methods:{}},o=l(10),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"color-muted font-size-12 padding-top-5 animated fadeInUp"},[t.showTag?l("span",{staticClass:"layout-menu-title"},[t._t("tag")],2):t._e()]),t._v(" "),t.showTab?l("div",{staticClass:"layout-top-tab margin-top-5"},[t._t("tab")],2):t._e(),t._v(" "),l("div",{staticClass:"layout-bottom-tab margin-top-10"},[t._t("content")],2)])}),[],!1,null,null,null);e.default=component.exports},1273:function(t,e,l){"use strict";l.r(e);l(179);var n={name:"mySex",props:{type:{default:0,type:[String,Number]}},computed:{selectModel:function(){this.value=this.selValue}},data:function(){return{value:""}},methods:{}},o=l(10),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("span",t._b({},"span",t.selectModel,!1),[[1==t.type?l("label",[t._v(t._s(t.$t("超级管理")))]):t._e(),t._v(" "),2==t.type?l("label",[t._v(t._s(t.$t("学校管理")))]):t._e(),t._v(" "),3==t.type?l("label",[t._v(t._s(t.$t("运维管理")))]):t._e(),t._v(" "),4==t.type?l("label",[t._v(t._s(t.$t("教师")))]):t._e(),t._v(" "),5==t.type?l("label",[t._v(t._s(t.$t("学生")))]):t._e(),t._v(" "),6==t.type?l("label",[t._v(t._s(t.$t("游客")))]):t._e(),t._v(" "),7==t.type?l("label",[t._v(t._s(t.$t("商家")))]):t._e()]],2)}),[],!1,null,null,null);e.default=component.exports},1277:function(t,e,l){var content=l(1291);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(31).default)("efebb4ae",content,!0,{sourceMap:!1})},1283:function(t,e,l){"use strict";l.r(e);l(107);var n=l(104),o=l(6),r={name:"auditStatusButton",props:{options:{default:function(){return[]},type:Array},size:{defalult:"medium",validate:function(t){return Object(o.D)(t,["large","medium","small","mini"])}},bgColor:{default:"#409EFF",type:String},activeColor:{default:"#FFFFFF",type:String}},computed:{setClass:function(){var t;return[(t={},Object(n.a)(t,"tab-group-button-medium",!this.size),Object(n.a)(t,"tab-group-button-".concat(this.size),!!this.size),t)]},setBgColor:function(){return this.bgGroupColor.background=this.bgColor,this.bgGroupColor},setActiveColor:function(){return this.activeGroupColor.background=this.activeColor,this.activeGroupColor}},data:function(){return{selVal:1,selIndex:0,widthAll:0,isActive:"",selStatus:-1,transformBtnGroup:{transform:"translateX(0px)",transition:"0.5s",width:""},activeGroupColor:{background:"#FFFFFF"},bgGroupColor:{background:"#409EFF"}}},mounted:function(){this.initTabGroupDefaultSel()},created:function(){},methods:{initTabGroupDefaultSel:function(){var t=this;setTimeout((function(){var e=document.querySelectorAll(".btn-group-item-default");t.transformBtnGroup.width=e&&e.length>0?e[0].clientWidth+"px":"0px",t.transformBtnGroup.transform="translateX(8px)"}),800)},handelChange:function(data,t,e){var l=0;this.selVal=t,this.selIndex=e;for(var n=document.querySelectorAll(".btn-group-item-default"),i=0;i<n.length;i++)if(i<e&&(l+=n[i].clientWidth),e==i){this.transformBtnGroup.width=n[i].clientWidth+"px";break}var o=l+8+"px";this.transformBtnGroup.transform="translateX("+o+")",this.isActive=e,this.$emit("click",t)}},watch:{options:function(t,e){var l=this;setTimeout((function(){for(var t=0,e=document.querySelectorAll(".btn-group-item-default"),i=0;i<e.length;i++)if(i<l.selIndex&&(t+=e[i].clientWidth),l.selIndex==i){l.transformBtnGroup.width=e[i].clientWidth+"px";break}var n=t+8+"px";l.transformBtnGroup.transform="translateX("+n+")",l.isActive=l.selIndex}),800)}}},d=(l(1290),l(10)),component=Object(d.a)(r,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"btn-group-block select-none",class:t.setClass,style:t.setBgColor},[l("div",{staticClass:"btn-group-item-active",style:[t.transformBtnGroup,t.setActiveColor]}),t._v(" "),l("div",{staticClass:"btn-group-item"},[t._l(t.options,(function(e,n){return l("div",{key:n,staticClass:"btn-group-item-default pull-left",class:t.isActive==n?"is-active":"",on:{click:function(l){return t.handelChange(l,e,n)}}},[t._v("\n      "+t._s(e.label)),e.extra||0==e.extra?[t._v(" | "+t._s(e.extra))]:t._e()],2)})),t._v(" "),l("div",{staticClass:"moon-clearfix"})],2)])}),[],!1,null,"584b8f5c",null);e.default=component.exports},1290:function(t,e,l){"use strict";var n=l(1277);l.n(n).a},1291:function(t,e,l){(e=l(30)(!1)).push([t.i,".btn-group-block[data-v-584b8f5c]{padding:10px 8px;border-radius:5px;display:inline-block;vertical-align:middle;white-space:nowrap;transition:transform .3s;z-index:2;line-height:15px}.btn-group-block[data-v-584b8f5c],.btn-group-item[data-v-584b8f5c]{position:relative}.btn-group-item-default[data-v-584b8f5c]{padding:0 8px;border-radius:5px;display:inline-block;cursor:default;color:#fff}.is-active[data-v-584b8f5c]{color:#595959}.tab-group-button-medium[data-v-584b8f5c]{padding:12px 8px;font-size:12px}.tab-group-button-small[data-v-584b8f5c]{padding:9px 8px;font-size:12px}.tab-group-button-mini[data-v-584b8f5c]{padding:7px 8px;font-size:12px}.tab-group-button-large[data-v-584b8f5c]{padding:14px 8px}.tab-group-button-medium .btn-group-item-active[data-v-584b8f5c]{position:absolute;top:5px;left:0;height:24px;transform:translateX(0);border-radius:5px}.tab-group-button-small .btn-group-item-active[data-v-584b8f5c]{position:absolute;top:5px;left:0;height:22px;transform:translateX(0);border-radius:5px}.tab-group-button-mini .btn-group-item-active[data-v-584b8f5c]{position:absolute;top:5px;left:0;height:18px;transform:translateX(0);border-radius:5px}.tab-group-button-large .btn-group-item-active[data-v-584b8f5c]{position:absolute;top:8px;left:0;height:28px;transform:translateX(0);border-radius:5px}",""]),t.exports=e},1432:function(t,e,l){t.exports=l.p+"img/screen-all-class.0c3dd78.png"},1433:function(t,e,l){"use strict";var n=l(86),o=l.n(n);e.a={data:function(){return{rulesForm:{groupName:[{required:!0,message:this.$t("请输入名称"),trigger:"blur"},{validator:o.a.FormValidate.Form().validatenall1_20Reg,trigger:"blur"}]},rules:{name:[{required:!0,message:this.$t("请输入名称"),trigger:"blur"},{validator:o.a.FormValidate.Form().validatenall1_20Reg,trigger:"blur"}],schoolName:[{required:!0,message:this.$t("请输入名称"),trigger:"blur"},{validator:o.a.FormValidate.Form().validatenall1_20Reg,trigger:"blur"}],year:[{required:!0,message:this.$t("请选择信息"),trigger:"change"}],time:[{required:!0,message:this.$t("请输入时间"),trigger:"blur"},{validator:o.a.FormValidate.Form().validateRNf2,trigger:"blur"}],longTime:[{required:!0,message:this.$t("请输入时间"),trigger:"blur"},{validator:o.a.FormValidate.Form().validateRNf2,trigger:"blur"}]}}}}},1434:function(t,e,l){var content=l(1772);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(31).default)("60a507c7",content,!0,{sourceMap:!1})},1771:function(t,e,l){"use strict";var n=l(1434);l.n(n).a},1772:function(t,e,l){(e=l(30)(!1)).push([t.i,".container[data-v-e49f8ef2]{padding:10px 15px}.screen-title-tag[data-v-e49f8ef2]{height:20px;width:5px;border-radius:5px;display:inline-block;background:#409eff}.screen-item[data-v-e49f8ef2]{height:180px}.screen-title[data-v-e49f8ef2]{background:#eee;padding:5px}",""]),t.exports=e},2064:function(t,e,l){"use strict";l.r(e);l(65),l(53);var n=l(9),o=l(234),r=l(76),d=l(7),c=l(6),f=l(1261),m=l(1256),h=l(1273),v=l(1258),y=l(1257),_=l(235),x=l(236),C=l(1433),S=l(1260),k=l(1283),$={mixins:[r.a,C.a],components:{MyPagination:o.default,LayoutTb:f.default,MySelect:m.default,MyUserType:h.default,MyDatePicker:v.default,MyInputButton:y.default,DialogNormal:_.default,DrawerLayoutRight:x.default,MyNormalDialog:S.default,TabGroupButton:k.default},data:function(){return{pageStudent:1,numStudent:20,totalStudent:0,tableData:[],tableStudentData:[],searchDate:[],typeList:[],searchKey:"",visible:!1,modalVisible:!1,drawerVisible:!1,dialogLoading:!1,loading:!1,visibleConfim:!1,expire:"",clearTime:"",action:"",subTitle:"",screenUrl:"",screenId:"",dataSetOptions:[],groupOptions:[],formModal:{id:"",name:"",templateId:"",dataSet:"",group:"",time:"",content:"",userUnit:"",code:"",codeTime:"",longTime:0,type:""}}},created:function(){this.init(),this.screenUrl=window.location.protocol+"//"+window.location.hostname+":2000"},methods:{init:function(){var t=this,e={page:this.page,num:1e3,screenName:this.searchKey,expire:this.expire};this.$axios.get(d.a.screen_my_page,{params:e}).then((function(e){e.data.data&&(t.tableData=e.data.data.list,t.total=e.data.data.totalCount,t.num=e.data.data.num,t.page=e.data.data.currentPage)}))},initStudent:function(t){var e=this,l={page:this.pageStudent,num:this.numStudent},n=[];this.$axios.get(d.a.screen_group_page,{params:l}).then((function(t){if(t.data.data){e.tableStudentData=t.data.data.list,e.totalStudent=t.data.data.totalCount,e.numStudent=t.data.data.num,e.pageStudent=t.data.data.currentPage,n.push({label:e.$t("默认组"),value:"0"});for(var i=0;i<t.data.data.list.length;i++)n.push({label:t.data.data.list[i].group_name,value:t.data.data.list[i].id});e.groupOptions=n}}))},initBuild:function(){var t=this,e=[];this.$axios.get(d.a.hierarchical_build,{params:{buildingType:1}}).then((function(l){if(l.data.data){for(var i=0;i<l.data.data.length;i++)e.push({label:l.data.data[i].building_name,value:l.data.data[i].id});t.dataSetOptions=e}}))},initYear:function(){var t=this;this.$axios.get(d.a.enroll_page,{params:{page:1,num:9999}}).then((function(e){if(e.data.data){for(var l=[],i=0;i<e.data.data.list.length;i++)l.push({label:e.data.data.list[i].year,text:e.data.data.list[i].year,value:e.data.data.list[i].year});t.dataSetOptions=l}}))},initProcess:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var data,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getLinkProcessInfo();case 2:data=t.dataProcessServer,l=[],data&&data.length>0&&(l=data),t.dataSetOptions=l;case 6:case"end":return e.stop()}}),e)})))()},addInfo:function(t,e,l){this.formModal={id:e.id,name:e.screen_name,templateId:e.template_id,dataSet:"",group:e.screen_group_id?e.screen_group_id:"0",time:"",content:""+e.comment,userUnit:e.user_unit,code:e.code,codeTime:this.$moment(e.expire_time).format("YYYY-MM-DD HH:mm:ss"),longTime:0,type:l},5==e.template_id?this.dataSetOptions=[{label:this.$t("全校课堂数据"),value:""}]:7==e.template_id?this.dataSetOptions=[{label:this.$t("全校归寝数据"),value:""}]:6==e.template_id?(this.dataSetOptions=[{label:this.$t("全校归寝数据"),value:""}],this.formModal.dataSet=e.bulid_id,this.initBuild()):8==e.template_id&&(this.formModal.dataSet=e.enroll_process_id,this.initProcess()),this.initStudent(),this.modalVisible=!0},deleteInfo:function(t,e){this.screenId=e.id,this.subTitle=e.screen_name,this.visibleConfim=!0},search:function(data){this.page=1,this.searchKey=data.input,this.init()},handleChange:function(t){this.page=1,this.expire=t.value,this.init()},handleChangeEnable:function(data,t){var e=this,l={id:t.id,enable:t.enable};l=this.$qs.stringify(l),this.$axios.post(d.a.screen_my_edit,l).then((function(t){t.data.data?(e.init(),Object(c.b)(t.data.desc)):Object(c.a)(t.data.desc)}))},handleCancelChange:function(data){this.visibleConfim=!1},handleOkChange:function(data){var t=this;this.dialogLoading=!0;var e,l={id:this.screenId};e=d.a.screen_my_del,l=this.$qs.stringify(l),this.$axios.post(e,l).then((function(e){200==e.data.code?(t.init(),Object(c.b)(e.data.desc)):Object(c.a)(e.data.desc),t.visibleConfim=!1,t.dialogLoading=!1}))},resetCode:function(){var t=this;this.loading=!0;var e={id:this.formModal.id,resetCode:!0};e=this.$qs.stringify(e),this.$axios.post(d.a.screen_my_edit,e).then((function(e){200==e.data.code?(t.formModal.code=e.data.data.code,Object(c.b)(e.data.desc)):Object(c.a)(e.data.desc),t.loading=!1}))},okDialog:function(t){var e=this;this.$refs.formModal.validate((function(t){if(t){e.dialogLoading=!0;var l={};1==e.formModal.type?(l={id:e.formModal.id,screenName:e.formModal.name,templateId:e.formModal.templateId,data:e.formModal.dataSet,screenRemarks:e.formModal.content,userUnit:e.formModal.userUnit,comment:e.formModal.content,screenGroupId:e.formModal.group},6==e.formModal.templateId&&(l.buildId=e.formModal.dataSet,l.data=e.formModal.dataSet),8==e.formModal.templateId&&(l.enrollProcessId=e.formModal.dataSet,l.data=e.formModal.dataSet)):2==e.formModal.type&&(l={id:e.formModal.id,duration:e.formModal.longTime}),l=e.$qs.stringify(l),e.$axios.post(d.a.screen_my_edit,l,{loading:!1}).then((function(t){200==t.data.code?(e.modalVisible=!1,e.init(),Object(c.b)(t.data.desc)):Object(c.a)(t.data.desc),e.dialogLoading=!1}))}}))},closeDialog:function(t){this.formModal={id:"",name:"",templateId:"",dataSet:"",group:"",time:"",content:"",userUnit:"",code:"",codeTime:"",longTime:0,type:""},this.numStudent=20,this.dataSetOptions=[],this.$refs.formModal&&this.$refs.formModal.resetFields(),this.$refs.form&&this.$refs.form.resetFields()},cancelDialog:function(){this.modalVisible=!1},handleSelect:function(data,t){1==t?this.formModal.dataSet=data:2==t&&(this.formModal.group=data)}}},w=(l(1771),l(10)),component=Object(w.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("layout-tb",[n("template",{slot:"tag"},[t._v("大屏管理")]),t._v(" "),n("div",{attrs:{slot:"tab"},slot:"tab"},[n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"text-right"},[n("tab-group-button",{attrs:{size:"small",options:[{label:t.$t("全部"),value:""},{label:t.$t("到期大屏"),value:!0}]},on:{click:t.handleChange}}),t._v(" "),n("my-input-button",{attrs:{size:"small",plain:"","width-class":"width: 150px",type:"success",clearable:!0,placeholder:t.$t("大屏名称")},on:{click:t.search}})],1)])],1)],1),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"bg-white border-bottom-1 padding-lr-5 padding-tb-5 custom-card-layout",style:t.divHeight3},t._l(t.tableData,(function(e,o){return n("div",{key:o},[n("div",{staticClass:"screen-title"},[n("span",{staticClass:"screen-title-tag"}),t._v(" "),n("span",{staticClass:"color-warning",staticStyle:{position:"relative",top:"-5px"}},[t._v(t._s(e.name))])]),t._v(" "),n("el-row",{staticClass:"margin-top-5",attrs:{gutter:16}},t._l(e.list,(function(e,o){return n("el-col",{key:o,staticClass:"margin-bottom-20",attrs:{span:8}},[n("el-card",{staticStyle:{position:"relative",height:"280px"},attrs:{"body-style":{padding:"0px"}}},[n("div",{staticClass:"moon-clearfix padding-tb-10 padding-lr-10",attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"color-grand",staticStyle:{"font-weight":"bold"}},[n("i",{staticClass:"fa fa-television"}),t._v("\n                    "+t._s(e.screen_name)+"\n                  ")]),t._v(" "),n("div",{staticClass:"pull-right"},[n("i",{staticClass:"fa fa-qrcode color-grand margin-right-5",staticStyle:{"font-size":"16px"},on:{click:function(l){return t.addInfo(l,e,2)}}}),t._v(" "),n("i",{staticClass:"fa fa-cog color-grand margin-right-5",staticStyle:{"font-size":"16px"},on:{click:function(l){return t.addInfo(l,e,1)}}}),t._v(" "),n("span",[n("el-popover",{attrs:{placement:"top",width:"400",trigger:"click"}},[n("div",[n("span",[t._v(t._s(t.screenUrl)+t._s(e.screen_url))])]),t._v(" "),n("i",{staticClass:"fa fa-eye color-warning margin-right-5",staticStyle:{"font-size":"16px"},attrs:{slot:"reference"},slot:"reference"})])],1),t._v(" "),n("i",{staticClass:"fa fa-trash color-danger",staticStyle:{"font-size":"16px"},on:{click:function(l){return t.deleteInfo(l,e)}}})])]),t._v(" "),n("div",{staticClass:"padding-tb-5 padding-lr-5"},[n("div",{staticClass:"screen-item"},[n("img",{staticClass:"img-class",attrs:{src:l(1432)}})])]),t._v(" "),n("div",{staticClass:"padding-tb-10 padding-lr-10 color-muted",staticStyle:{"border-top":"1px solid #EBEEF5"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"color-warning"},[n("span",[t._v(t._s(t.$moment(e.expire_time).format("YYYY-MM-DD HH:mm:ss")))])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"text-right"},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(l){return t.handleChangeEnable(l,e)}},model:{value:e.enable,callback:function(l){t.$set(e,"enable",l)},expression:"itemChild.enable"}})],1)])],1)],1)])],1)})),1)],1)})),0)])],2),t._v(" "),n("dialog-normal",{attrs:{top:"10vh",visible:t.modalVisible,title:t.$t("大屏设置")},on:{close:t.closeDialog,"right-close":t.cancelDialog}},[n("div",{staticClass:"margin-top-10"},[n("el-form",{ref:"formModal",attrs:{model:t.formModal,rules:t.rules,"label-width":"140px"}},[1==t.formModal.type?[n("el-form-item",{attrs:{label:t.$t("大屏名称"),prop:"name"}},[n("el-input",{staticClass:"width-260",model:{value:t.formModal.name,callback:function(e){t.$set(t.formModal,"name",e)},expression:"formModal.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("数据集"),prop:"dataSet"}},[n("my-select",{attrs:{"sel-value":t.formModal.dataSet,options:t.dataSetOptions,"width-style":"260"},on:{change:function(e){return t.handleSelect(e,1)}}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("分组"),prop:"group"}},[n("my-select",{attrs:{"sel-value":t.formModal.group,options:t.groupOptions,"width-style":"260"},on:{change:function(e){return t.handleSelect(e,2)}}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("备注")}},[n("el-input",{staticClass:"width-260",model:{value:t.formModal.content,callback:function(e){t.$set(t.formModal,"content",e)},expression:"formModal.content"}})],1)]:t._e(),t._v(" "),2==t.formModal.type?[n("el-form-item",{attrs:{label:t.$t("验证码")}},[n("span",[t._v(t._s(t.formModal.code))]),t._v(" "),n("span",[n("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:t.resetCode}},[t.loading?n("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n                "+t._s(t.$t("重新生成"))+"\n              ")])],1)]),t._v(" "),n("el-form-item",{attrs:{label:t.$t("时效")}},[n("span",[t._v(t._s(t.formModal.codeTime))])]),t._v(" "),n("el-form-item",{attrs:{label:t.$t("延长时效"),prop:"longTime"}},[n("el-input",{staticClass:"width-260",model:{value:t.formModal.longTime,callback:function(e){t.$set(t.formModal,"longTime",e)},expression:"formModal.longTime"}},[n("template",{slot:"append"},[t._v(t._s(t.$t("小时")))])],2)],1)]:t._e()],2)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:t.cancelDialog}},[t._v(t._s(t.$t("取消")))]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){0==t.dialogLoading&&t.okDialog()}}},[t.dialogLoading?n("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n        "+t._s(t.$t("确定"))+"\n      ")])],1)]),t._v(" "),n("my-normal-dialog",{attrs:{visible:t.visibleConfim,loading:t.dialogLoading,title:"提示",detail:t.subTitle,content:"确认需要删除该信息？"},on:{"update:visible":function(e){t.visibleConfim=e},"ok-click":t.handleOkChange,"cancel-click":t.handleCancelChange}})],1)}),[],!1,null,"e49f8ef2",null);e.default=component.exports;installComponents(component,{TabGroupButton:l(1283).default,MyInputButton:l(1257).default,LayoutTb:l(1261).default,MySelect:l(1256).default,DialogNormal:l(235).default,MyNormalDialog:l(1260).default})}}]);