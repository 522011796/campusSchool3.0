(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1256:function(e,t,r){"use strict";r.r(t);r(179);var o=r(6),n={name:"mySelect",props:{placeholder:{default:"",type:String},selValue:{default:"",type:[String,Number,Boolean]},options:{default:function(){return[]},type:Array},size:{defalult:"medium",validate:function(e){return Object(o.D)(e,["large","medium","small","mini"])}},clearable:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},filterable:{default:!1,type:Boolean},remote:{default:!1,type:Boolean},loading:{default:!1,type:Boolean},group:{default:!1,type:Boolean},remoteMethod:{default:function(data){return data},type:Function},widthStyle:{default:"",type:[String,Number]}},computed:{selectModel:function(){this.value=this.selValue},setPlaceholder:function(){this.selectPlaceholder=this.placeholder?this.placeholder:this.$t("请选择")},setWidth:function(){this.widthStyle&&(this.width={width:this.widthStyle+"px"})}},data:function(){return{selectPlaceholder:"",value:"",width:""}},methods:{handleChange:function(data){this.$emit("change",data)}}},l=r(10),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-select",e._b({style:e.width,attrs:{setPlaceholder:e.setPlaceholder,placeholder:e.selectPlaceholder,size:e.size,clearable:e.clearable,disabled:e.disabled,filterable:e.filterable,loading:e.loading,remote:e.remote,"remote-method":e.remoteMethod,setWidth:e.setWidth},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-select",e.selectModel,!1),[0==e.group?e._l(e.options,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})):e._e(),e._v(" "),1==e.group?e._l(e.options,(function(t){return r("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)})):e._e()],2)],1)}),[],!1,null,null,null);t.default=component.exports},1258:function(e,t,r){"use strict";r.r(t);r(179);var o,n=r(104),l=r(6),m={name:"myDatePicker",props:(o={selValue:{default:"",type:[Array,String]},size:{defalult:"medium",validate:function(e){return Object(l.D)(e,["large","medium","small","mini"])}},type:{defalult:"date",validate:function(e){return Object(l.D)(e,["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"])}},placeholder:{default:"选择日期",type:String}},Object(n.a)(o,"size",{defalult:"medium",validate:function(e){return Object(l.D)(e,["large","medium","small","mini"])}}),Object(n.a)(o,"widthStyle",{default:"",type:[String,Number]}),Object(n.a)(o,"disabled",{default:!1,type:Boolean}),Object(n.a)(o,"readonly",{default:!1,type:Boolean}),Object(n.a)(o,"rangeSeparator",{default:"至",type:String}),Object(n.a)(o,"startPlaceholder",{default:"开始时间",type:String}),Object(n.a)(o,"endPlaceholder",{default:"结束时间",type:String}),Object(n.a)(o,"format",{default:"yyyy-MM-dd",type:String}),Object(n.a)(o,"valueFormat",{default:"yyyy-MM-dd",type:String}),Object(n.a)(o,"unlinkPanels",{default:!0,type:Boolean}),Object(n.a)(o,"clearable",{default:!1,type:Boolean}),Object(n.a)(o,"editable",{default:!1,type:Boolean}),Object(n.a)(o,"pickerOptions",{default:function(){return{}},type:Object}),o),computed:{selectModel:function(){this.value=this.selValue},setWidth:function(){this.widthStyle&&(this.width={width:this.widthStyle+"px"})}},mounted:function(){},data:function(){return{value:"",width:""}},methods:{handleChange:function(data){this.$emit("change",data)}}},c=r(10),component=Object(c.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("el-date-picker",e._b({style:e.width,attrs:{type:e.type,placeholder:e.placeholder,size:e.size,disabled:e.disabled,readonly:e.readonly,"range-separator":e.rangeSeparator,"start-placeholder":e.startPlaceholder,"end-placeholder":e.endPlaceholder,"unlink-panels":e.unlinkPanels,format:e.format,"value-format":e.valueFormat,"picker-options":e.pickerOptions,setWidth:e.setWidth,clearable:e.clearable},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-date-picker",e.selectModel,!1))],1)}),[],!1,null,null,null);t.default=component.exports},1261:function(e,t,r){"use strict";r.r(t);var o={name:"LayoutTb",data:function(){return{showTab:!0,showTag:!1}},mounted:function(){this.showTab=void 0!==this.$slots.tab},created:function(){},methods:{}},n=r(10),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"color-muted font-size-12 padding-top-5 animated fadeInUp"},[e.showTag?r("span",{staticClass:"layout-menu-title"},[e._t("tag")],2):e._e()]),e._v(" "),e.showTab?r("div",{staticClass:"layout-top-tab margin-top-5"},[e._t("tab")],2):e._e(),e._v(" "),r("div",{staticClass:"layout-bottom-tab margin-top-10"},[e._t("content")],2)])}),[],!1,null,null,null);t.default=component.exports},1273:function(e,t,r){"use strict";r.r(t);r(179);var o={name:"mySex",props:{type:{default:0,type:[String,Number]}},computed:{selectModel:function(){this.value=this.selValue}},data:function(){return{value:""}},methods:{}},n=r(10),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",e._b({},"span",e.selectModel,!1),[[1==e.type?r("label",[e._v(e._s(e.$t("超级管理")))]):e._e(),e._v(" "),2==e.type?r("label",[e._v(e._s(e.$t("学校管理")))]):e._e(),e._v(" "),3==e.type?r("label",[e._v(e._s(e.$t("运维管理")))]):e._e(),e._v(" "),4==e.type?r("label",[e._v(e._s(e.$t("教师")))]):e._e(),e._v(" "),5==e.type?r("label",[e._v(e._s(e.$t("学生")))]):e._e(),e._v(" "),6==e.type?r("label",[e._v(e._s(e.$t("游客")))]):e._e(),e._v(" "),7==e.type?r("label",[e._v(e._s(e.$t("商家")))]):e._e()]],2)}),[],!1,null,null,null);t.default=component.exports},1276:function(e,t,r){"use strict";r.r(t);r(179);var o=r(6),n={name:"myCheck",props:{selValue:{default:!1,type:[Boolean,Array,Number,String]},trueLabel:{type:[String,Number]},falseLabel:{type:[String,Number]},min:{type:Number},max:{type:Number},indeterminate:{default:!1,type:Boolean},group:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean},border:{default:!1,type:Boolean},button:{default:!1,type:Boolean},options:{default:function(){return[]},type:Array},size:{defalult:"medium",validate:function(e){return Object(o.D)(e,["large","medium","small","mini"])}},textColor:{default:"",type:String},fill:{default:"",type:String}},computed:{selectModel:function(){this.value=this.selValue}},data:function(){return{value:"",valueGroup:[]}},methods:{handleChange:function(data){this.$emit("change",data)}}},l=r(10),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[e.group?e._e():r("el-checkbox",e._b({attrs:{"true-label":e.trueLabel,"false-label":e.falseLabel,indeterminate:e.indeterminate,disabled:e.disabled,border:e.border,size:e.size},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-checkbox",e.selectModel,!1),[e._t("default")],2),e._v(" "),e.group?r("el-checkbox-group",e._b({attrs:{size:e.size,"text-color":e.textColor,fill:e.fill,min:e.min,max:e.max},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-checkbox-group",e.selectModel,!1),[e._l(e.options,(function(t){return e.button?e._e():r("el-checkbox",{key:t.value,attrs:{label:t.value,disabled:t.disabled,border:e.border,size:e.size}},[e._v(e._s(t.label))])})),e._v(" "),e._l(e.options,(function(t){return e.button?r("el-checkbox-button",{key:t.value,attrs:{label:t.value,disabled:t.disabled,border:e.border}},[e._t("default",[e._v(e._s(t.label))])],2):e._e()}))],2):e._e()],1)}),[],!1,null,null,null);t.default=component.exports},1312:function(e,t,r){"use strict";r.r(t);r(237),r(709),r(179);var o,n=r(104),l=r(1265),m=r(7),c=r(1269),d=r(1257),h=r(6),f={name:"classroomTreeAndList",components:(o={MyRadio:c.default,MyCascader:l.default},Object(n.a)(o,"MyRadio",c.default),Object(n.a)(o,"MyInputButton",d.default),o),props:{selValue:{default:"",type:[String,Array]},selArr:{default:function(){return[]},type:Array},setType:{default:"radio",type:[String,Number]},maxHeight:{default:"300",type:[String,Number]}},computed:{_selValue:function(){this.commSelUserVal=this.selValue},_selArr:function(){}},data:function(){return{commAllCheck:!1,commAllCheckCount:0,value:"",commPage:1,commNum:20,commTotalTotal:0,tableTeacherCommData:[],searchCommClassRoomData:[],commSearchKey:"",commSearchDept:"",commSelUserVal:"",commSelUserArr:[],commSelUserNameArr:[],commSelUserTempArr:[],commSelUserValObj:{},commSelUserValArr:[],commLoading:!1,commFlag:!1,commMultipleSelection:[],commRow:"",commSearchBuild:"",commSearchFloor:"",commGetRowKeys:function(e){return e.id}}},created:function(){},methods:{_initTeacher:function(){var e=this;this.checkboxCount=0;var t={page:this.commPage,num:this.commNum,buildId:this.searchCommClassRoomData[0],floorNum:this.searchCommClassRoomData[1]};this.commLoading=!0,t.realName=this.commSearchKey.input,this.$axios.get(m.a.classroom_page,{params:t}).then((function(t){if(t.data.data){for(var i=0;i<t.data.data.list.length;i++){Object(h.u)(t.data.data.list[i],e.commSelUserArr,"id")>-1?(e.commFlag=!0,t.data.data.list[i]._checked=!0,e.checkboxCount++):t.data.data.list[i]._checked=!1}0!=e.checkboxCount&&e.checkboxCount==e.tableTeacherCommData.length?e.commAllCheck=!0:e.commAllCheck=!1,e.commFlag=!1,e.tableTeacherCommData=t.data.data.list,e.commTotalTotal=t.data.data.totalCount,e.commNum=t.data.data.num,e.commPage=t.data.data.currentPage}e.commLoading=!1}))},_handleOpen:function(){this.commPage=1,this.commNum=20,this.commSelUserArr=this.selArr,this._initTeacher()},_handleChange:function(data,e){this.commSelUserVal=data.id,this.commSelUserValObj=data,this.$emit("change",data)},_handleCascaderChange:function(data){this.searchCommClassRoomData=data,this._initTeacher()},_handleSelectionSelect:function(e,t){if(e)this.commSelUserArr.push(t),t._checked=!0,this.checkboxCount++;else{var r=Object(h.u)(t,this.commSelUserArr,"id");this.commSelUserArr.splice(r,1),t._checked=!1,this.checkboxCount--}0!=this.checkboxCount&&this.checkboxCount==this.tableTeacherCommData.length?this.commAllCheck=!0:this.commAllCheck=!1,this.$emit("select",this.commSelUserArr)},_handleSelectionAllSelect:function(e){this.commAllCheck=e;for(var i=0;i<this.tableTeacherCommData.length;i++){if(1==e)this.tableTeacherCommData[i]._checked=!0,-1==Object(h.u)(this.tableTeacherCommData[i],this.commSelUserArr,"id")&&this.commSelUserArr.push(this.tableTeacherCommData[i]),this.checkboxCount++;else this.tableTeacherCommData[i]._checked=!1,this.checkboxCount--}},_handleSelectionChange:function(data){},_handleSizeChange:function(data){this.commPage=1,this.commNum=data,this._initTeacher()},_handleCurrentChange:function(data){this.commPage=data,this._initTeacher()},_handleResetChange:function(){this.value="",this.commNum=20,this.commPage=1,this.searchCommClassRoomData=[],this.commSearchKey="",this.commSearchDept="",this.commSelUserVal="",this.commSelUserValObj={},this.commSelUserValArr=[],this.commSelUserArr=[],this.$refs.SelectorClassroom&&this.$refs.SelectorClassroom.$refs.cascaderSelector&&this.$refs.SelectorClassroom.$refs.cascaderSelector.$refs.panel.calculateCheckedNodePaths(),this.$refs.SelectorClassroom&&this.$refs.SelectorClassroom.$refs.cascaderSelector&&this.$refs.SelectorClassroom.$refs.cascaderSelector.$refs.panel.calculateCheckedNodePaths()},_handleSelect:function(){this.commFlag=!0;for(var e=[],t=[].concat(this.tableTeacherCommData),r=[].concat(this.selArr),i=0;i<t.length;i++){Object(h.u)(t[i],r,"id")>-1&&(e.push(t[i]),this.$refs.commTableRef.toggleRowSelection(t[i],!0))}this.commSelUserTempArr=e,this.commFlag=!1},_handleSearch:function(data){this.commSearchKey=data,this._initTeacher()},_getSelectData:function(){this.$emit("select",this.commSelUserArr)}}},_=r(10),component=Object(_.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"commTeacherList"},[r("div",{staticClass:"layout-inline"},[r("my-cascader",{ref:"SelectorClassroom",staticClass:"layout-item",attrs:{size:"small","width-style":"160","sel-value":e.searchCommClassRoomData,type:"3","sub-type":"2"},on:{change:function(t){return e._handleCascaderChange(t)}}})],1),e._v(" "),r("el-table",{ref:"commTableRef",attrs:{data:e.tableTeacherCommData,"max-height":e.maxHeight,size:"mini",loading:e.commLoading}},["check"==e.setType?r("el-table-column",{attrs:{align:"center",width:"55"},scopedSlots:e._u([{key:"header",fn:function(t){return[r("el-checkbox",{on:{change:e._handleSelectionAllSelect},model:{value:e.commAllCheck,callback:function(t){e.commAllCheck=t},expression:"commAllCheck"}})]}},{key:"default",fn:function(t){return[r("el-checkbox",{on:{change:function(r){return e._handleSelectionSelect(r,t.row)}},model:{value:t.row._checked,callback:function(r){e.$set(t.row,"_checked",r)},expression:"scope.row._checked"}})]}}],null,!1,1304403255)}):e._e(),e._v(" "),"radio"==e.setType?r("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("my-radio",e._b({attrs:{"sel-value":e.commSelUserVal,label:t.row.id},on:{change:function(r){return e._handleChange(t.row)}}},"my-radio",e._selValue,!1),[r("span")])]}}],null,!1,3064290874)}):e._e(),e._v(" "),r("el-table-column",{attrs:{property:"floor_num",align:"center",label:"楼层"}}),e._v(" "),r("el-table-column",{attrs:{property:"classroom_no",align:"center",label:"房间号"}}),e._v(" "),r("el-table-column",{attrs:{property:"",align:"center",label:"容纳人数"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-center"},[e._v(e._s(t.row.people_num?t.row.people_num:"--"))]),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n            "+e._s(t.row.people_num?t.row.people_num:"--")+"\n          ")])])]}}])})],1),e._v(" "),r("div",{staticClass:"text-right margin-top-10"},[r("el-pagination",{attrs:{"current-page":e.commPage,"page-sizes":[10,20,30,50,100],"page-size":e.commNum,layout:"total, sizes, prev, pager, next",total:e.commTotalTotal},on:{"size-change":e._handleSizeChange,"current-change":e._handleCurrentChange}})],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{MyCascader:r(1265).default,MyRadio:r(1269).default})},1313:function(e,t,r){"use strict";r.r(t);r(237),r(709),r(179);var o,n=r(104),l=r(1265),m=r(7),c=r(1269),d=r(1257),h=r(6),f={name:"dormBuildTreeAndList",components:(o={MyRadio:c.default,MyCascader:l.default},Object(n.a)(o,"MyRadio",c.default),Object(n.a)(o,"MyInputButton",d.default),o),props:{selValue:{default:"",type:[String,Array]},selArr:{default:function(){return[]},type:Array},setType:{default:"radio",type:[String,Number]},maxHeight:{default:"300",type:[String,Number]}},computed:{_selValue:function(){this.commSelUserVal=this.selValue},_selArr:function(){}},data:function(){return{commAllCheck:!1,commAllCheckCount:0,value:"",commPage:1,commNum:20,commTotalTotal:0,tableTeacherCommDormData:[],searchCommDeptData:[],tableDormCommDormData:[],commSex:"",commSearchKey:"",commSearchBuild:"",commSearchFloor:"",commSelUserVal:"",commSelUserArr:[],commSelUserNameArr:[],commSelUserTempArr:[],commSelUserValObj:{},commSelUserValArr:[],commLoading:!1,commFlag:!1,commMultipleSelection:[],commRow:"",commDrawer:!1,commUserId:"",commGetRowKeys:function(e){return e.user_id}}},created:function(){},methods:{_initTeacher:function(){var e=this;this.checkboxCount=0;var t={page:this.commPage,num:this.commNum,deleted:0,type:this.commSex.type,buildId:this.commSearchBuild,floorNum:this.commSearchFloor};this.commLoading=!0,t.realName=this.commSearchKey.input,this.$axios.get(m.a.dormroom_page,{params:t}).then((function(t){if(t.data.data){for(var i=0;i<t.data.data.list.length;i++){Object(h.u)(t.data.data.list[i],e.commSelUserArr,"id")>-1?(e.commFlag=!0,t.data.data.list[i]._checked=!0,e.checkboxCount++):t.data.data.list[i]._checked=!1}0!=e.checkboxCount&&e.checkboxCount==e.tableTeacherCommDormData.length?e.commAllCheck=!0:e.commAllCheck=!1,e.commFlag=!1,e.tableTeacherCommDormData=t.data.data.list,e.commTotalTotal=t.data.data.totalCount,e.commNum=t.data.data.num,e.commPage=t.data.data.currentPage}e.commLoading=!1}))},_handleOpen:function(e){this.commPage=1,this.commNum=20,this.commSex=e||"",this.commSelUserArr=this.selArr,this._initTeacher()},_handleChange:function(data,e){this.commSelUserVal=data.id,this.commSelUserValObj=data,this.$emit("change",data)},_handleCascaderChange:function(data){this.commSearchBuild="",this.commSearchFloor="",1==data.length?this.commSearchBuild=data[0]:2==data.length&&(this.commSearchBuild=data[0],this.commSearchFloor=data[1]),this._initTeacher()},_handleSelectionSelect:function(e,t){if(e)this.commSelUserArr.push(t),t._checked=!0,this.checkboxCount++;else{var r=Object(h.u)(t,this.commSelUserArr,"id");this.commSelUserArr.splice(r,1),t._checked=!1,this.checkboxCount--}0!=this.checkboxCount&&this.checkboxCount==this.tableTeacherCommDormData.length?this.commAllCheck=!0:this.commAllCheck=!1,this.$emit("select",this.commSelUserArr)},_handleSelectionAllSelect:function(e){this.commAllCheck=e;for(var i=0;i<this.tableTeacherCommDormData.length;i++){if(1==e)this.tableTeacherCommDormData[i]._checked=!0,-1==Object(h.u)(this.tableTeacherCommDormData[i],this.commSelUserArr,"id")&&this.commSelUserArr.push(this.tableTeacherCommDormData[i]),this.checkboxCount++;else this.tableTeacherCommDormData[i]._checked=!1,this.checkboxCount--}},_handleSelectionChange:function(data){},_handleSizeChange:function(data){this.commPage=1,this.commNum=data,this._initTeacher()},_handleCurrentChange:function(data){this.commPage=data,this._initTeacher()},_handleResetChange:function(){this.value="",this.commNum=20,this.commPage=1,this.searchCommDeptData=[],this.commSearchKey="",this.commSearchDept="",this.commSelUserVal="",this.commSelUserValObj={},this.commSelUserValArr=[],this.commSelUserArr=[],this.commDrawer=!1,this.tableDormCommDormData=[],this.commSearchBuild="",this.commSearchFloor="",this.$refs.SelectorDept&&this.$refs.SelectorDept.$refs.cascaderSelector&&(this.$refs.SelectorDept.$refs.cascaderSelector.$refs.panel.activePath=[],this.$refs.SelectorDept.$refs.cascaderSelector.$refs.panel.calculateCheckedNodePaths()),this.$refs.SelectorDept&&this.$refs.SelectorDept.$refs.cascaderSelector&&(this.$refs.SelectorDept.$refs.cascaderSelector.$refs.panel.activePath=[],this.$refs.SelectorDept.$refs.cascaderSelector.$refs.panel.calculateCheckedNodePaths())},_handleSelect:function(){this.commFlag=!0;for(var e=[],t=[].concat(this.tableTeacherCommDormData),r=[].concat(this.selArr),i=0;i<t.length;i++){Object(h.u)(t[i],r,"id")>-1&&(e.push(t[i]),this.$refs.commTableRef.toggleRowSelection(t[i],!0))}this.commSelUserTempArr=e,this.commFlag=!1},_handleSearch:function(data){this.commSearchKey=data,this._initTeacher()},_getSelectData:function(){this.$emit("select",this.commSelUserArr)},_selectDorm:function(e){var t=this,r={page:1,num:9999,dormitoryId:e.id};this.$axios.get(m.a.dorm_user_class_bed_list,{params:r}).then((function(e){e.data.data&&(t.tableDormCommDormData=e.data.data)})),this.commDrawer=!0},_selectBedno:function(e){var t=this,r={bedNo:e.bed_no,dromId:e.drom_id,studentId:this.commSex.userId,majorClassId:this.commSex.majorId};r=this.$qs.stringify(r),this.$axios.post(m.a.dorm_user_class_bed_distribute,r).then((function(e){e.data.data?(t._initTeacher(),Object(h.b)(e.data.desc),t.$emit("distribute",e.data.data)):Object(h.c)(e.data.desc)}))},dormTypeTextInfo:function(e){return Object(h.n)(e)}}},_=r(10),component=Object(_.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"commTeacherList",staticStyle:{height:"370px"}},[e.commDrawer?e._e():r("div",[r("div",{staticClass:"layout-inline"},[r("my-cascader",{ref:"SelectorDept",staticClass:"layout-item",attrs:{clearable:!0,size:"small","width-style":"160","sel-value":e.searchCommDeptData,type:"2","sub-type":"2"},on:{change:function(t){return e._handleCascaderChange(t)}}})],1),e._v(" "),r("el-table",{ref:"commTableRef",attrs:{data:e.tableTeacherCommDormData,"max-height":e.maxHeight,size:"mini",loading:e.commLoading}},["select"==e.setType?r("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"color-grand",attrs:{href:"javascript:;"},on:{click:function(r){return e._selectDorm(t.row)}}},[e._v(e._s(e.$t("分配")))])]}}],null,!1,1415248470)}):e._e(),e._v(" "),"check"==e.setType?r("el-table-column",{attrs:{align:"center",width:"55"},scopedSlots:e._u([{key:"header",fn:function(t){return[r("el-checkbox",{on:{change:e._handleSelectionAllSelect},model:{value:e.commAllCheck,callback:function(t){e.commAllCheck=t},expression:"commAllCheck"}})]}},{key:"default",fn:function(t){return[r("el-checkbox",{on:{change:function(r){return e._handleSelectionSelect(r,t.row)}},model:{value:t.row._checked,callback:function(r){e.$set(t.row,"_checked",r)},expression:"scope.row._checked"}})]}}],null,!1,1304403255)}):e._e(),e._v(" "),"radio"==e.setType?r("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("my-radio",e._b({attrs:{"sel-value":e.commSelUserVal,label:t.row.user_id},on:{change:function(r){return e._handleChange(t.row)}}},"my-radio",e._selValue,!1),[r("span")])]}}],null,!1,4043958644)}):e._e(),e._v(" "),r("el-table-column",{attrs:{property:"dormitory_no",align:"center",label:"宿舍编号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"宿舍类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("label",[e._v(e._s(e.dormTypeTextInfo(t.row.type)))])]}}],null,!1,2193574826)}),e._v(" "),r("el-table-column",{attrs:{property:"student_id",align:"center",label:"容纳人数"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("label",[e._v(e._s(t.row.has_people_num))]),e._v("\n          /\n          "),r("label",[e._v(e._s(t.row.people_num))])]}}],null,!1,834077690)})],1),e._v(" "),r("div",{staticClass:"text-right margin-top-10"},[r("el-pagination",{attrs:{"current-page":e.commPage,"page-sizes":[10,20,30,50,100],"page-size":e.commNum,layout:"total, sizes, prev, pager, next",total:e.commTotalTotal},on:{"size-change":e._handleSizeChange,"current-change":e._handleCurrentChange}})],1)],1),e._v(" "),e.commDrawer?r("div",[r("div",{staticClass:"layout-inline"},[r("el-button",{attrs:{size:"small",type:"success",plain:""}},[r("i",{staticClass:"fa fa-arrow-left"}),e._v("\n        "+e._s(e.$t("返回"))+"\n      ")])],1),e._v(" "),r("div",{staticClass:"margin-top-10"},[r("el-table",{ref:"commTableRef",attrs:{data:e.tableDormCommDormData,"max-height":e.maxHeight,size:"mini"}},[r("el-table-column",{attrs:{label:"床号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.bed_no)+"号床")])]}}],null,!1,3006094509)}),e._v(" "),r("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.student_id?r("span",{staticClass:"color-warning"},[e._v(e._s(e.$t("已分配")))]):r("span",{staticClass:"color-success"},[e._v(e._s(e.$t("未分配")))])]}}],null,!1,3214118545)}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.student_id?r("a",{staticClass:"color-grand",attrs:{href:"javascript:;"},on:{click:function(r){return e._selectBedno(t.row)}}},[e._v(e._s(e.$t("选择")))]):r("span",[e._v("--")])]}}],null,!1,107598844)})],1)],1)]):e._e()])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{MyCascader:r(1265).default,MyRadio:r(1269).default})},1405:function(e,t,r){var content=r(1718);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(31).default)("7096bc8c",content,!0,{sourceMap:!1})},1717:function(e,t,r){"use strict";var o=r(1405);r.n(o).a},1718:function(e,t,r){(t=r(30)(!1)).push([e.i,".container[data-v-b4bf2556]{padding:10px 15px}.setting-td[data-v-b4bf2556]{height:100%;width:100%;font-size:12px;position:relative}.setting-icon[data-v-b4bf2556]{height:25px;width:25px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}",""]),e.exports=t},1977:function(e,t,r){"use strict";r.r(t);r(237),r(108),r(65),r(53);var o,n=r(9),l=r(104),m=r(234),c=r(76),d=r(7),h=r(6),f=r(1261),_=r(1256),v=r(1273),w=r(1258),T=r(1257),S=r(235),k=r(1312),y=r(1276),C=r(1313),$=r(1269),x=r(86),R=r.n(x),D={data:function(){return{rules:{name:[{required:!0,message:this.$t("请输入名称"),trigger:"blur"},{validator:R.a.FormValidate.Form().validatenall1_20Reg,trigger:"blur"}],deviceList:[{required:!0,type:"array",min:1,message:this.$t("请选择信息"),trigger:"change"}],partUserIds:[{required:!0,type:"array",min:1,message:this.$t("请选择信息"),trigger:"change"}],auditUserIds:[{required:!0,type:"array",min:1,message:this.$t("请选择信息"),trigger:"change"}]}}}},O={mixins:[c.a,D],components:(o={MyRadio:$.default,DormBuildTreeAndList:C.default,MyCheck:y.default,MyPagination:m.default,LayoutTb:f.default,MySelect:_.default,MyUserType:v.default,MyDatePicker:w.default,MyInputButton:T.default,DialogNormal:S.default,ClassroomTreeAndList:k.default},Object(l.a)(o,"MyCheck",y.default),Object(l.a)(o,"MySelect",_.default),Object(l.a)(o,"DormBuildTreeAndList",C.default),o),data:function(){return{tableData:[],tableSettingData:[],searchDate:[],typeList:[],sectionList:[],tableDayInfo:[],searchKey:"",visible:!1,modalVisible:!1,dialogLoading:!1,visibleConfim:!1,modalOtherVisible:!1,clearTime:"",action:"",subTitle:"",errorTips:"",tips:"",tableDeviceList:[],tableDeviceDoorList:[],form:{id:"",name:"",workTimes:1,workTimesSwitch:!1,timeTimes:[{startTime:"00:00",endTime:"00:00",upBefore:"",downAfter:""}],workTimeWeek1:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],workTimeWeek2:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],workTimeWeek3:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],autoSwitch:!1,mustTimes:[],noMustTimes:[],unSignRule:"1",unSignRule1:!1,unSignRule2:!1,unSignRuleTime1:"",unSignRuleTime2:"",unSignRuleTime3:"",unSignStaticRule1:!1,unSignStaticRule2:!1,unSignStaticRuleTime1:"",unSignStaticRuleTime2:"",unSignStaticRuleTime3:"",addrSwitch:"1",deviceList:[],partUserIds:[],auditUserIds:[]}}},created:function(){this.init(),this.initDevice("1,2,4","3,4",1),this.initDevice("4","6",2)},methods:{init:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.initPage();case 1:case"end":return t.stop()}}),t)})))()},initPage:function(){var e=this,t={page:this.page,num:this.num};this.$axios.get(d.a.attend_admin_setting_page,{params:t}).then((function(t){t.data.data&&(e.tableData=t.data.data.list,e.total=t.data.data.totalCount,e.num=t.data.data.num,e.page=t.data.data.currentPage)}))},initDevice:function(e,t,r){var o=this,n={page:1,num:999,sceneType:e,deviceType:t};this.$axios.get(d.a.device_join_in_list,{params:n}).then((function(e){if(e.data.data){for(var i=0;i<e.data.data.list.length;i++)e.data.data.list[i].label=e.data.data.list[i].name?e.data.data.list[i].name:e.data.data.list[i].sn,e.data.data.list[i].value=e.data.data.list[i].sn;1==r&&(o.tableDeviceList=e.data.data.list),2==r&&(o.tableDeviceDoorList=e.data.data.list)}}))},initSetting:function(e){var t=this,r={};e&&(r={checkbedRuleId:e.id}),this.$axios.get(d.a.attend_dorm_setting_info,{params:r}).then((function(e){e.data.data&&(t.tableDayInfo=e.data.data)}))},addInfo:function(){this.initSetting(),this.modalVisible=!0},syncInfo:function(){this.oprType="sync",this.tips=this.$t("当天已考勤数据会被全部删除，是否确认？"),this.visibleConfim=!0},otherInfo:function(){this.modalOtherVisible=!0},editInfo:function(e){console.log(e);var t=e.add_teachers?JSON.parse(e.add_teachers):[],r=e.supervisors?JSON.parse(e.supervisors):[],o=[],n=[],l=[],m=e.work_day_setting?JSON.parse(e.work_day_setting):"",c=e.work_day_setting2?JSON.parse(e.work_day_setting2):"",d=e.work_day_setting3?JSON.parse(e.work_day_setting3):"",h=e.must_attend_days?JSON.parse(e.must_attend_days):[],f=e.not_attend_days?JSON.parse(e.not_attend_days):[],_=e.device_sns?JSON.parse(e.device_sns):[];for(var i in this.form={id:e.id,name:e.group_name,workTimes:e.day_times,workTimesSwitch:e.sign_time_setting,timeTimes:[],workTimeWeek1:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],workTimeWeek2:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],workTimeWeek3:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],autoSwitch:e.auto_holiday,mustTimes:[],noMustTimes:[],unSignRule:""+e.absent_half_rule_type,unSignRule1:!1,unSignRule2:!1,unSignRuleTime1:1==e.absent_half_rule_type?e.absent_half_rule_hours:0,unSignRuleTime2:2==e.absent_half_rule_type?e.absent_half_rule_hours:0,unSignRuleTime3:e.absent_full_rule_sign_times,unSignStaticRule1:!1,unSignStaticRule2:!1,unSignStaticRuleTime1:e.absent_half_rule_times,unSignStaticRuleTime2:e.absent_full_rule_times,unSignStaticRuleTime3:e.absent_full_rule_hours,addrSwitch:""+e.sign_type,deviceList:[],partUserIds:[],auditUserIds:[]},m)this.$set(this.form.workTimeWeek1,i-1,{weekSwitch:!0,startTime:m[i].startTime,endTime:m[i].endTime});for(var v in c)this.$set(this.form.workTimeWeek2,v-1,{weekSwitch:!0,startTime:c[v].startTime,endTime:c[v].endTime});for(var w in d)this.$set(this.form.workTimeWeek3,w-1,{weekSwitch:!0,startTime:d[w].startTime,endTime:d[w].endTime});for(var T=0;T<e.day_times;T++)0==T&&(l[0]={startTime:e.upper_time,endTime:e.lower_time,upBefore:e.before_stimer,downAfter:e.after_stimer}),1==T&&(l[1]={startTime:e.upper_time2,endTime:e.lower_time2,upBefore:e.before_stimer2,downAfter:e.after_stimer2}),2==T&&(l[2]={startTime:e.upper_time3,endTime:e.lower_time3,upBefore:e.before_stimer3,downAfter:e.after_stimer3});for(var S=0;S<t.length;S++)o.push({user_id:t[S]});for(var k=0;k<r.length;k++)n.push({user_id:r[k].userId,name:r[k].name,real_name:r[k].name});this.$set(this.form,"deviceList",_),this.$set(this.form,"mustTimes",h),this.$set(this.form,"noMustTimes",f),this.$set(this.form,"timeTimes",l),this.$set(this.form,"partUserIds",o),this.$set(this.form,"auditUserIds",n),this.initSetting(e),this.modalVisible=!0},resetInfo:function(e){this.oprType="reset",this.form.id=e.id,this.subTitle=e.name,this.tips=this.$t("确认需要重置时间吗？"),this.visibleConfim=!0},search:function(data){this.searchKey=data.input,this.page=1,this.init()},sizeChange:function(e){this.page=1,this.num=e,this.init()},currentPage:function(e){this.page=e,this.init()},jumpPage:function(data){this.page=data,this.init()},handleSelect:function(data){this.form.type=data},deleteInfo:function(e){this.oprType="del",this.form.id=e.id,this.subTitle=e.name,this.tips="确认需要删除该信息？",this.visibleConfim=!0},handleOkChange:function(data){var e=this;this.dialogLoading=!0;var t,r={groupId:this.form.id};t=d.a.attend_admin_setting_delete,r=this.$qs.stringify(r),this.$axios.post(t,r).then((function(t){200==t.data.code?(e.init(),Object(h.b)(t.data.desc)):Object(h.a)(t.data.desc),e.visibleConfim=!1,e.dialogLoading=!1}))},handleCancelChange:function(data){this.visibleConfim=!1},cancelDialog:function(){this.modalVisible=!1},closeDialog:function(e){this.form={id:"",name:"",workTimes:1,workTimesSwitch:!1,timeTimes:[{startTime:"00:00",endTime:"00:00",upBefore:"",downAfter:""}],workTimeWeek1:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],workTimeWeek2:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],workTimeWeek3:[{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"},{weekSwitch:!1,startTime:"00:00",endTime:"00:00"}],autoSwitch:!1,mustTimes:[],noMustTimes:[],unSignRule:"1",unSignRule1:!1,unSignRule2:!1,unSignRuleTime1:"",unSignRuleTime2:"",unSignRuleTime3:"",unSignStaticRule1:!1,unSignStaticRule2:!1,unSignStaticRuleTime1:"",unSignStaticRuleTime2:"",unSignStaticRuleTime3:"",addrSwitch:"1",deviceList:[],partUserIds:[],auditUserIds:[]},this.subTitle="",this.oprType,this.$refs.popverPartRef&&this.$refs.popverPartRef._handleResetChange(),this.$refs.popverAuditRef&&this.$refs.popverAuditRef._handleResetChange(),this.$refs.form&&this.$refs.form.resetFields()},okDialog:function(e){var t=this,r="",o=0,n=0,l=0,m=0,c=0,f=/^\+?[1-9]\d*$/,_=[],v=[],w={},T={},S={};this.errorTips="",this.$refs.form.validate((function(e){if(e){for(var k={groupName:t.form.name,departIds:[],dayTimes:t.form.workTimes,signTimeSetting:t.form.workTimesSwitch,autoHoliday:t.form.autoSwitch,mustAttendDays:t.form.mustTimes&&t.form.mustTimes.length>0?JSON.stringify(t.form.mustTimes):[],notAttendDays:t.form.noMustTimes&&t.form.noMustTimes.length>0?JSON.stringify(t.form.noMustTimes):[],absentHalfRuleType:t.form.unSignRule,absentHalfRuleHours:1==t.form.unSignRule?t.form.unSignRuleTime1:t.form.unSignRuleTime2,absentFullRuleSignTimes:t.form.unSignRuleTime3,absentHalfRuleTimes:t.form.unSignStaticRuleTime1,absentFullRuleTimes:t.form.unSignStaticRuleTime2,absentFullRuleHours:t.form.unSignStaticRuleTime3,signType:t.form.addrSwitch,deviceSns:t.form.deviceList&&t.form.deviceList.length>0?JSON.stringify(t.form.deviceList):[]},i=0;i<t.form.timeTimes.length;i++)1==t.form.workTimesSwitch&&(""==t.form.timeTimes[i].upBefore||0==f.test(t.form.timeTimes[i].upBefore)?n++:""!=t.form.timeTimes[i].downAfter&&0!=f.test(t.form.timeTimes[i].downAfter)||n++),0==i&&(k.upperTime=t.form.timeTimes[0].startTime,k.lowerTime=t.form.timeTimes[0].endTime,k.beforeStimer=t.form.timeTimes[0].upBefore,k.afterStimer=t.form.timeTimes[0].downAfter),1==i&&(k.upperTime2=t.form.timeTimes[1].startTime,k.lowerTime2=t.form.timeTimes[1].endTime,k.beforeStimer2=t.form.timeTimes[1].upBefore,k.afterStimer2=t.form.timeTimes[1].downAfter),2==i&&(k.upperTime3=t.form.timeTimes[2].startTime,k.lowerTime3=t.form.timeTimes[2].endTime,k.beforeStimer3=t.form.timeTimes[2].upBefore,k.afterStimer3=t.form.timeTimes[2].downAfter);for(var y=0;y<t.form.workTimeWeek1.length;y++)0==y&&1==t.form.workTimeWeek1[y].weekSwitch?w.one=t.form.workTimeWeek1[y]:1==y&&1==t.form.workTimeWeek1[y].weekSwitch?w.two=t.form.workTimeWeek1[y]:2==y&&1==t.form.workTimeWeek1[y].weekSwitch?w.three=t.form.workTimeWeek1[y]:3==y&&1==t.form.workTimeWeek1[y].weekSwitch?w.four=t.form.workTimeWeek1[y]:4==y&&1==t.form.workTimeWeek1[y].weekSwitch?w.five=t.form.workTimeWeek1[y]:5==y&&1==t.form.workTimeWeek1[y].weekSwitch?w.six=t.form.workTimeWeek1[y]:6==y&&1==t.form.workTimeWeek1[y].weekSwitch&&(w.seven=t.form.workTimeWeek1[y]);k.workDaySetting=JSON.stringify(w);for(var C=0;C<t.form.workTimeWeek2.length;C++)0==C&&1==t.form.workTimeWeek2[C].weekSwitch?T.one=t.form.workTimeWeek2[C]:1==C&&1==t.form.workTimeWeek2[C].weekSwitch?T.two=t.form.workTimeWeek2[C]:2==C&&1==t.form.workTimeWeek2[C].weekSwitch?T.three=t.form.workTimeWeek2[C]:3==C&&1==t.form.workTimeWeek2[C].weekSwitch?T.four=t.form.workTimeWeek2[C]:4==C&&1==t.form.workTimeWeek2[C].weekSwitch?T.five=t.form.workTimeWeek2[C]:5==C&&1==t.form.workTimeWeek2[C].weekSwitch?T.six=t.form.workTimeWeek2[C]:6==C&&1==t.form.workTimeWeek2[C].weekSwitch&&(T.seven=t.form.workTimeWeek2[C]);k.workDaySetting2=JSON.stringify(T);for(var $=0;$<t.form.workTimeWeek3.length;$++)0==$&&1==t.form.workTimeWeek3[$].weekSwitch?S.one=t.form.workTimeWeek3[$]:1==$&&1==t.form.workTimeWeek3[$].weekSwitch?S.two=t.form.workTimeWeek3[$]:2==$&&1==t.form.workTimeWeek3[$].weekSwitch?S.three=t.form.workTimeWeek3[$]:3==$&&1==t.form.workTimeWeek3[$].weekSwitch?S.four=t.form.workTimeWeek3[$]:4==$&&1==t.form.workTimeWeek3[$].weekSwitch?S.five=t.form.workTimeWeek3[$]:5==$&&1==t.form.workTimeWeek3[$].weekSwitch?S.six=t.form.workTimeWeek3[$]:6==$&&1==t.form.workTimeWeek3[$].weekSwitch&&(S.seven=t.form.workTimeWeek3[$]);if(k.workDaySetting3=JSON.stringify(S),t.form.partUserIds.length>0){for(var x=0;x<t.form.partUserIds.length;x++)_.push(t.form.partUserIds[x].user_id);k.addTeachers=_.length>0?JSON.stringify(_):[]}if(t.form.auditUserIds.length>0){for(var R=0;R<t.form.auditUserIds.length;R++)v.push({userId:t.form.auditUserIds[R].user_id,name:t.form.auditUserIds[R].name?t.form.auditUserIds[R].name:t.form.auditUserIds[R].real_name});k.supervisors=v.length>0?JSON.stringify(v):[]}if(1==t.form.unSignRule&&""!=!!t.form.unSignRuleTime1&&0==f.test(t.form.unSignRuleTime1)&&o++,2==t.form.unSignRule&&t.form.unSignRuleTime2&&0==f.test(t.form.unSignRuleTime2)&&o++,t.form.unSignRuleTime3&&0==f.test(t.form.unSignRuleTime3)&&o++,(t.form.unSignStaticRuleTime1&&0==f.test(t.form.unSignStaticRuleTime1)||t.form.unSignStaticRuleTime2&&0==f.test(t.form.unSignStaticRuleTime2)||t.form.unSignStaticRuleTime3&&0==f.test(t.form.unSignStaticRuleTime3))&&o++,n>0)return void Object(h.c)(t.$t("时间段不能为空且必须为整数，请检查"));if(o>0)return void Object(h.c)(t.$t("内容存在空值或存在零的数据，请检查"));if(1==t.form.workTimes||2==t.form.workTimes||3==t.form.workTimes){for(var D in w)1==w[D].weekSwitch&&l++;if(0==l)return void Object(h.c)(t.$t("请选择第一次上下班周数"))}if(2==t.form.workTimes||3==t.form.workTimes){for(var O in T)1==T[O].weekSwitch&&m++;if(0==m)return void Object(h.c)(t.$t("请选择第二次上下班周数"))}if(3==t.form.workTimes){for(var A in S)1==S[A].weekSwitch&&c++;if(0==c)return void Object(h.c)(t.$t("请选择第三次上下班周数"))}""!=t.form.id?(k.groupId=t.form.id,r=d.a.attend_admin_setting_edit):r=d.a.attend_admin_setting_add,t.dialogLoading=!0,k=t.$qs.stringify(k),t.$axios.post(r,k,{loading:!1}).then((function(e){200==e.data.code?(t.modalVisible=!1,t.init(),Object(h.b)(e.data.desc)):Object(h.a)(e.data.desc),t.dialogLoading=!1}))}}))},handleShowTeacher:function(e){1==e?this.$refs.popverPartRef._handleOpen():2==e&&this.$refs.popverAuditRef._handleOpen()},handleHideeacher:function(){this.$refs.popverPartRef&&this.$refs.popverPartRef._handleResetChange(),this.$refs.popverAuditRef&&this.$refs.popverAuditRef._handleResetChange()},handleSelUser:function(data,e){1==e?this.form.partUserIds=data:2==e&&(this.form.auditUserIds=data)},handleChange:function(data,e){var t=[];if(4==e)this.form.workTimesSwitch=data;else if(5==e)this.form.autoSwitch=data;else{this.form.workTimes=e;for(var r=[].concat(this.form.timeTimes),i=0;i<e;i++)t.push({startTime:r[i]?r[i].startTime:"00:00",endTime:r[i]?r[i].endTime:"00:00",upBefore:r[i]?r[i].upBefore:"",downAfter:r[i]?r[i].downAfter:""}),this.form.timeTimes=t}},handleChangeTime:function(data,e,t,r){1==r?(this.$set(this.form.timeTimes[t],"startTime",data),this.setAllWeekTimes(data,t,r)):2==r?(this.$set(this.form.timeTimes[t],"endTime",data),this.setAllWeekTimes(data,t,r)):3==r?this.$set(this.form.workTimeWeek1[t],"startTime",data):4==r?this.$set(this.form.workTimeWeek1[t],"endTime",data):5==r?this.$set(this.form.workTimeWeek2[t],"startTime",data):6==r?this.$set(this.form.workTimeWeek2[t],"endTime",data):7==r?this.$set(this.form.workTimeWeek3[t],"startTime",data):8==r&&this.$set(this.form.workTimeWeek3[t],"endTime",data)},changeStatus:function(data,e){1==e||2==e?this.form.unSignRule=data:(3==e||4==e)&&(this.form.addrSwitch=data)},changeRollCall:function(e){e.rollCall=!e.rollCall},handleWeek:function(data,e){this.tableDayInfo.map((function(t,r){t.days.map((function(t,r){t&&t.weekNo==e&&(t.rollCall=data)}))}))},weekNoText2Info:function(e){return Object(h.Y)(e)},handleWeekSwitch:function(data,e,t){e.weekSwitch=data},setAllWeekTimes:function(data,e,t){for(var r="workTimeWeek"+(e+1),i=0;i<7;i++)1==t?this.$set(this.form[r][i],"startTime",data):2==t&&this.$set(this.form[r][i],"endTime",data)}}},A=(r(1717),r(10)),component=Object(A.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("layout-tb",[r("template",{slot:"tag"},[e._v("考勤设置")]),e._v(" "),r("div",{attrs:{slot:"tab"},slot:"tab"},[r("el-row",[r("el-col",{attrs:{span:18}},[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addInfo(t)}}},[e._v(e._s(e.$t("添加考勤组")))])],1),e._v(" "),r("el-col",{staticClass:"text-right",attrs:{span:6}})],1)],1),e._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[r("el-table",{ref:"refTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-class-name":"custom-table-cell-bg",size:"medium","row-key":"id","max-height":e.tableHeight.height}},[r("el-table-column",{attrs:{align:"center",label:e.$t("名称")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-center"},[e._v(e._s(t.row.group_name))]),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[r("span",[e._v(e._s(t.row.group_name))])])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:e.$t("人数")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-center"},[e._v(e._s(t.row.user_size))]),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[r("span",[e._v(e._s(t.row.user_size))])])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:e.$t("考勤时间")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-left"},e._l(JSON.parse(t.row.work_day_setting),(function(o,n){return t.row.work_day_setting?r("div",{key:n},[r("div",[1==JSON.parse(t.row.work_day_setting)[n].weekSwitch?r("span",[e._v("\n                      "+e._s(e.weekNoText2Info(n))+":"+e._s(JSON.parse(t.row.work_day_setting)[n].startTime)+"-"+e._s(JSON.parse(t.row.work_day_setting)[n].endTime)+"\n                    ")]):e._e()])]):e._e()})),0),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[t.row.upper_time?r("span",{staticClass:"color-grand"},[e._v(e._s(t.row.upper_time)+"-"+e._s(t.row.lower_time))]):e._e()])]),e._v(" "),r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-left"},e._l(JSON.parse(t.row.work_day_setting2),(function(o,n){return t.row.work_day_setting2?r("div",{key:n},[r("div",[1==JSON.parse(t.row.work_day_setting2)[n].weekSwitch?r("span",[e._v("\n                      "+e._s(e.weekNoText2Info(n))+":"+e._s(JSON.parse(t.row.work_day_setting2)[n].startTime)+"-"+e._s(JSON.parse(t.row.work_day_setting2)[n].endTime)+"\n                    ")]):e._e()])]):e._e()})),0),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[t.row.upper_time2?r("span",{staticClass:"color-grand"},[e._v(e._s(t.row.upper_time2)+"-"+e._s(t.row.lower_time2))]):e._e()])]),e._v(" "),r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-left"},e._l(JSON.parse(t.row.work_day_setting3),(function(o,n){return t.row.work_day_setting3?r("div",{key:n},[r("div",[1==JSON.parse(t.row.work_day_setting3)[n].weekSwitch?r("span",[e._v("\n                      "+e._s(e.weekNoText2Info(n))+":"+e._s(JSON.parse(t.row.work_day_setting3)[n].startTime)+"-"+e._s(JSON.parse(t.row.work_day_setting3)[n].endTime)+"\n                    ")]):e._e()])]):e._e()})),0),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[t.row.upper_time3?r("span",{staticClass:"color-grand"},[e._v(e._s(t.row.upper_time3)+"-"+e._s(t.row.lower_time3))]):e._e()])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:e.$t("监督员")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-center"},e._l(JSON.parse(t.row.supervisors),(function(t,o){return r("el-tag",{key:o,staticClass:"margin-right-5",attrs:{size:"mini",type:"success"}},[e._v(e._s(t.name))])})),1),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},e._l(JSON.parse(t.row.supervisors),(function(t,o){return r("el-tag",{key:o,staticClass:"margin-right-5",attrs:{size:"mini",type:"success"}},[e._v(e._s(t.name))])})),1)])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:e.$t("考勤方式")},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.rull_type?r("span",{staticClass:"color-muted"},[e._v(e._s(e.$t("全校")))]):e._e(),e._v(" "),0!=t.row.rull_type?r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-center"},[0==t.row.sign_type?r("span",[e._v(e._s(e.$t("LBS地图定位考勤")))]):e._e(),e._v(" "),0==t.row.sign_type?r("span",[e._v(e._s(e.$t("人脸识别考勤机")))]):e._e()]),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[0==t.row.sign_type?r("span",[e._v(e._s(e.$t("LBS地图定位考勤")))]):e._e(),e._v(" "),1==t.row.sign_type?r("span",[e._v(e._s(e.$t("人脸识别考勤机")))]):e._e()])]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:e.$t("考勤地点")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[r("div",{staticClass:"text-center"},[e._l(JSON.parse(t.row.area_range),(function(o,n){return 0==t.row.sign_type?r("el-tag",{key:n,staticClass:"margin-right-5 margin-bottom-5",attrs:{size:"mini",type:"success"}},[e._v(e._s(o.name))]):e._e()})),e._v(" "),e._l(JSON.parse(t.row.device_sns),(function(o,n){return 1==t.row.sign_type?r("el-tag",{key:n,staticClass:"margin-right-5 margin-bottom-5",attrs:{size:"mini",type:"success"}},[e._v(e._s(o))]):e._e()}))],2),e._v(" "),r("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._l(JSON.parse(t.row.area_range),(function(o,n){return 0==t.row.sign_type?r("el-tag",{key:n,staticClass:"margin-right-5",attrs:{size:"mini",type:"success"}},[e._v(e._s(o.name))]):e._e()})),e._v(" "),e._l(JSON.parse(t.row.device_sns),(function(o,n){return 1==t.row.sign_type?r("el-tag",{key:n,staticClass:"margin-right-5",attrs:{size:"mini",type:"success"}},[e._v(e._s(o))]):e._e()}))],2)])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"fa fa-edit color-grand margin-right-5",on:{click:function(r){return e.editInfo(t.row)}}}),e._v(" "),0!=t.row.rull_type?r("i",{staticClass:"fa fa-trash color-danger",on:{click:function(r){return e.deleteInfo(t.row)}}}):e._e()]}}])})],1),e._v(" "),r("div",{staticClass:"layout-right-footer text-right"},[r("my-pagination",{staticClass:"layout-pagination",attrs:{total:e.total,"current-page":e.page,"page-size":e.num},on:{currentPage:e.currentPage,sizeChange:e.sizeChange,jumpChange:e.jumpPage}})],1)],1)],2),e._v(" "),r("dialog-normal",{attrs:{"width-style":"1200px",visible:e.modalVisible,title:e.$t("设置分组")},on:{close:e.closeDialog,"right-close":e.cancelDialog}},[r("div",{staticClass:"margin-top-10"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:e.$t("组名"),prop:"name"}},[r("el-input",{staticClass:"width-260",model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("参与考勤"),prop:"partUserIds"}},[r("el-popover",{attrs:{"popper-class":"custom-popper-class-form",placement:"right",width:"700",trigger:"click"},on:{show:function(t){return e.handleShowTeacher(1)},hide:e.handleHideeacher}},[r("div",[r("teacher-tree-and-list",{ref:"popverPartRef",attrs:{"sel-arr":e.form.partUserIds,"set-type":"check"},on:{select:function(t){return e.handleSelUser(t,1)}}})],1),e._v(" "),r("el-button",{attrs:{slot:"reference",type:"success",plain:"",size:"small"},slot:"reference"},[e._v(e._s(e.$t("添加")))])],1),e._v(" "),r("span",{staticClass:"color-warning margin-left-10"},[r("i",{staticClass:"fa fa-user"}),e._v("\n            "+e._s(e.$t("已选择"))+e._s(e.form.partUserIds.length)+e._s(e.$t("人员"))+"\n          ")])],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("监督员"),prop:"auditUserIds"}},[r("el-popover",{attrs:{"popper-class":"custom-popper-class-form",placement:"right",width:"700",trigger:"click"},on:{show:function(t){return e.handleShowTeacher(2)},hide:e.handleHideeacher}},[r("div",[r("teacher-tree-and-list",{ref:"popverAuditRef",attrs:{"sel-arr":e.form.auditUserIds,"set-type":"check"},on:{select:function(t){return e.handleSelUser(t,2)}}})],1),e._v(" "),r("el-button",{attrs:{slot:"reference",type:"success",plain:"",size:"small"},slot:"reference"},[e._v(e._s(e.$t("添加")))])],1),e._v(" "),r("span",{staticClass:"color-warning margin-left-10"},[r("i",{staticClass:"fa fa-user"}),e._v("\n            "+e._s(e.$t("已选择"))+e._s(e.form.auditUserIds.length)+e._s(e.$t("人员"))+"\n          ")])],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("时间设置")}},[r("div",{staticClass:"margin-bottom-5"},[r("el-button-group",[r("el-button",{attrs:{size:"mini",type:1==e.form.workTimes?"primary":"default"},on:{click:function(t){return e.handleChange(t,1)}}},[e._v(e._s(e.$t("一天1次上下班")))]),e._v(" "),r("el-button",{attrs:{size:"mini",type:2==e.form.workTimes?"primary":"default"},on:{click:function(t){return e.handleChange(t,2)}}},[e._v(e._s(e.$t("一天2次上下班")))]),e._v(" "),r("el-button",{attrs:{size:"mini",type:3==e.form.workTimes?"primary":"default"},on:{click:function(t){return e.handleChange(t,3)}}},[e._v(e._s(e.$t("一天3次上下班")))])],1),e._v(" "),r("span",[r("my-check",{attrs:{"sel-value":e.form.workTimesSwitch},on:{change:function(t){return e.handleChange(t,4)}}},[r("span",[e._v(e._s(e.$t("打卡时间段设置")))])])],1)],1),e._v(" "),e._l(e.form.timeTimes,(function(t,o){return r("div",{key:o},[r("span",{staticClass:"font-size-12 color-muted margin-right-5"},[e._v(e._s(e.$t("第"))+e._s(o+1)+e._s(e.$t("次"))+e._s(e.$t("默认班次时间")))]),e._v(" "),r("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"95px"},attrs:{size:"mini",clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(r){return e.handleChangeTime(r,t,o,1)}},model:{value:t.startTime,callback:function(r){e.$set(t,"startTime",r)},expression:"item.startTime"}}),e._v("\n            -\n            "),r("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"95px"},attrs:{size:"mini",clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(r){return e.handleChangeTime(r,t,o,2)}},model:{value:t.endTime,callback:function(r){e.$set(t,"endTime",r)},expression:"item.endTime"}}),e._v(" "),1==e.form.workTimesSwitch?r("span",[r("label",{staticClass:"font-size-12 color-muted"},[e._v("\n              "+e._s(e.$t("上班前"))+"\n                "),r("el-input",{staticStyle:{width:"50px"},attrs:{size:"mini"},model:{value:t.upBefore,callback:function(r){e.$set(t,"upBefore",r)},expression:"item.upBefore"}}),e._v("\n                "+e._s(e.$t("分钟"))+"\n              ")],1),e._v(" "),r("label",{staticClass:"font-size-12 color-muted"},[e._v("\n                "+e._s(e.$t("下班后"))+"\n                "),r("el-input",{staticStyle:{width:"50px"},attrs:{size:"mini"},model:{value:t.downAfter,callback:function(r){e.$set(t,"downAfter",r)},expression:"item.downAfter"}}),e._v("\n                "+e._s(e.$t("分钟"))+"\n              ")],1)]):e._e()],1)}))],2),e._v(" "),r("el-form-item",{attrs:{label:e.$t("工作日设置")}},[r("el-row",{staticStyle:{"margin-left":"0px !important","margin-right":"0px !important"},attrs:{gutter:4}},[1==e.form.workTimes||2==e.form.workTimes||3==e.form.workTimes?r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px 5px"}}},[r("div",[r("span",{staticClass:"font-size-12 color-muted"},[e._v(e._s(e.$t("第一次上下班")))])]),e._v(" "),r("div",{staticClass:"margin-top-5"},[r("ul",e._l(e.form.workTimeWeek1,(function(t,o){return r("li",{key:o,staticClass:"font-size-12 color-muted"},[r("my-check",{attrs:{"sel-value":t.weekSwitch},on:{change:function(r){return e.handleWeekSwitch(r,t,o)}}},[r("span",{staticClass:"font-size-12 color-muted",staticStyle:{"font-weight":"normal"}},[e._v(e._s(e.weekNoText2Info(o+1)))])]),e._v(" "),r("span",[r("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"95px"},attrs:{size:"mini",clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(r){return e.handleChangeTime(r,t,o,3)}},model:{value:t.startTime,callback:function(r){e.$set(t,"startTime",r)},expression:"item.startTime"}}),e._v("\n                        -\n                        "),r("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"95px"},attrs:{size:"mini",clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(r){return e.handleChangeTime(r,t,o,4)}},model:{value:t.endTime,callback:function(r){e.$set(t,"endTime",r)},expression:"item.endTime"}})],1)],1)})),0)])])],1):e._e(),e._v(" "),2==e.form.workTimes||3==e.form.workTimes?r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px 5px"}}},[r("div",[r("span",{staticClass:"font-size-12 color-muted"},[e._v(e._s(e.$t("第二次上下班")))])]),e._v(" "),r("div",{staticClass:"margin-top-5"},[r("ul",e._l(e.form.workTimeWeek2,(function(t,o){return r("li",{key:o,staticClass:"font-size-12 color-muted"},[r("my-check",{attrs:{"sel-value":t.weekSwitch},on:{change:function(r){return e.handleWeekSwitch(r,t,o)}}},[r("span",{staticClass:"font-size-12 color-muted",staticStyle:{"font-weight":"normal"}},[e._v(e._s(e.weekNoText2Info(o+1)))])]),e._v(" "),r("span",[r("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"95px"},attrs:{size:"mini",clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(r){return e.handleChangeTime(r,t,o,5)}},model:{value:t.startTime,callback:function(r){e.$set(t,"startTime",r)},expression:"item.startTime"}}),e._v("\n                        -\n                        "),r("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"95px"},attrs:{size:"mini",clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(r){return e.handleChangeTime(r,t,o,6)}},model:{value:t.endTime,callback:function(r){e.$set(t,"endTime",r)},expression:"item.endTime"}})],1)],1)})),0)])])],1):e._e(),e._v(" "),3==e.form.workTimes?r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px 5px"}}},[r("div",[r("span",{staticClass:"font-size-12 color-muted"},[e._v(e._s(e.$t("第三次上下班")))])]),e._v(" "),r("div",{staticClass:"margin-top-5"},[r("ul",e._l(e.form.workTimeWeek3,(function(t,o){return r("li",{key:o,staticClass:"font-size-12 color-muted"},[r("my-check",{attrs:{"sel-value":t.weekSwitch},on:{change:function(r){return e.handleWeekSwitch(r,t,o)}}},[r("span",{staticClass:"font-size-12 color-muted",staticStyle:{"font-weight":"normal"}},[e._v(e._s(e.weekNoText2Info(o+1)))])]),e._v(" "),r("span",[r("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"95px"},attrs:{size:"mini",clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(r){return e.handleChangeTime(r,t,o,7)}},model:{value:t.startTime,callback:function(r){e.$set(t,"startTime",r)},expression:"item.startTime"}}),e._v("\n                        -\n                        "),r("el-time-picker",{staticClass:"layout-item",staticStyle:{width:"95px"},attrs:{size:"mini",clearable:!1,"value-format":"HH:mm",format:"HH:mm",placeholder:e.$t("选择时间")},on:{change:function(r){return e.handleChangeTime(r,t,o,8)}},model:{value:t.endTime,callback:function(r){e.$set(t,"endTime",r)},expression:"item.endTime"}})],1)],1)})),0)])])],1):e._e()],1),e._v(" "),r("div",[r("span",[r("my-check",{attrs:{"sel-value":e.form.autoSwitch},on:{change:function(t){return e.handleChange(t,5)}}},[e._v("\n                "+e._s(e.$t("法定节假日自动调休"))+"\n              ")])],1)])],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("特殊日期")}},[r("div",[r("el-date-picker",{staticStyle:{width:"400px"},attrs:{type:"dates","value-format":"yyyy-MM-dd",placeholder:e.$t("选择一个或多个日期")},model:{value:e.form.mustTimes,callback:function(t){e.$set(e.form,"mustTimes",t)},expression:"form.mustTimes"}}),e._v(" "),r("span",{staticClass:"color-muted"},[e._v(e._s(e.$t("必须打卡日期")))])],1),e._v(" "),r("div",{staticClass:"margin-top-10"},[r("el-date-picker",{staticStyle:{width:"400px"},attrs:{type:"dates","value-format":"yyyy-MM-dd",placeholder:e.$t("选择一个或多个日期")},model:{value:e.form.noMustTimes,callback:function(t){e.$set(e.form,"noMustTimes",t)},expression:"form.noMustTimes"}}),e._v(" "),r("span",{staticClass:"color-muted"},[e._v(e._s(e.$t("不用打卡日期")))])],1)]),e._v(" "),r("el-form-item",{attrs:{label:e.$t("旷工设置")}},[r("div",[r("my-radio",{attrs:{"sel-value":e.form.unSignRule,label:"1"},on:{change:function(t){return e.changeStatus(t,1)}}},[e._v(e._s(e.$t("旷工半天规则1")))]),e._v(" "),r("span",{staticClass:"color-muted font-size-12"},[e._v("\n              "+e._s(e.$t("上班时间未满"))+"\n              "),r("el-input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.form.unSignRuleTime1,callback:function(t){e.$set(e.form,"unSignRuleTime1",t)},expression:"form.unSignRuleTime1"}}),e._v("\n              "+e._s(e.$t("小时/天"))+"\n            ")],1)],1),e._v(" "),r("div",[r("my-radio",{attrs:{"sel-value":e.form.unSignRule,label:"2"},on:{change:function(t){return e.changeStatus(t,2)}}},[e._v(e._s(e.$t("旷工半天规则2")))]),e._v(" "),r("span",{staticClass:"color-muted font-size-12"},[e._v("\n              "+e._s(e.$t("迟到+早退累计"))+"\n              "),r("el-input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.form.unSignRuleTime2,callback:function(t){e.$set(e.form,"unSignRuleTime2",t)},expression:"form.unSignRuleTime2"}}),e._v("\n              "+e._s(e.$t("小时/天"))+"\n            ")],1)],1),e._v(" "),r("div",[r("span",{staticClass:"color-muted font-size-12"},[r("label",{staticClass:"color-grand font-size-14",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("旷工1天规则")))]),e._v(" "),r("span",[e._v(e._s(e.$t("打卡次数<=")))]),e._v(" "),r("el-input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.form.unSignRuleTime3,callback:function(t){e.$set(e.form,"unSignRuleTime3",t)},expression:"form.unSignRuleTime3"}}),e._v("\n              "+e._s(e.$t("次/天"))+"\n            ")],1)])]),e._v(" "),r("el-form-item",{attrs:{label:e.$t("旷工月统计规则")}},[r("div",[r("label",{staticClass:"color-grand font-size-14",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.$t("旷工半天统计规则")))]),e._v(" "),r("span",{staticClass:"color-muted font-size-12"},[e._v("\n              "+e._s(e.$t("迟到+早退累计"))+"\n              "),r("el-input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.form.unSignStaticRuleTime1,callback:function(t){e.$set(e.form,"unSignStaticRuleTime1",t)},expression:"form.unSignStaticRuleTime1"}}),e._v("\n              "+e._s(e.$t("次/月"))+"\n            ")],1)]),e._v(" "),r("div",[r("div",{staticClass:"layout-inline"},[r("label",{staticClass:"color-grand font-size-14 layout-item",staticStyle:{"font-weight":"bold",position:"relative",top:"-40px"}},[e._v(e._s(e.$t("旷工1天统计规则")))]),e._v(" "),r("div",{staticClass:"color-muted font-size-12 layout-item"},[r("div",[e._v("\n                  "+e._s(e.$t("迟到+早退累计<="))+"\n                  "),r("el-input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.form.unSignStaticRuleTime2,callback:function(t){e.$set(e.form,"unSignStaticRuleTime2",t)},expression:"form.unSignStaticRuleTime2"}}),e._v("\n                  "+e._s(e.$t("次/月"))+"\n                ")],1),e._v(" "),r("div",[e._v("\n                  "+e._s(e.$t("迟到+早退累计"))+"\n                  "),r("el-input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.form.unSignStaticRuleTime3,callback:function(t){e.$set(e.form,"unSignStaticRuleTime3",t)},expression:"form.unSignStaticRuleTime3"}}),e._v("\n                  "+e._s(e.$t("小时/月"))+"\n                ")],1)])])])]),e._v(" "),r("el-form-item",{attrs:{label:e.$t("考勤地点"),prop:"deviceList"}},[r("div",[r("my-radio",{attrs:{"sel-value":e.form.addrSwitch,label:"0",disabled:!0},on:{change:function(t){return e.changeStatus(t,3)}}},[e._v(e._s(e.$t("LBS地图定位考勤"))),r("span",{staticClass:"color-danger"},[e._v("("+e._s(e.$t("暂未开放"))+")")])])],1),e._v(" "),r("div",[r("my-radio",{attrs:{"sel-value":e.form.addrSwitch,label:"1"},on:{change:function(t){return e.changeStatus(t,4)}}},[e._v(e._s(e.$t("人脸识别机考勤")))]),e._v(" "),r("el-row",{attrs:{gutter:8}},[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"margin-bottom-5"},[r("span",{staticClass:"color-muted"},[e._v(e._s(e.$t("一体机设备")))])]),e._v(" "),r("el-card",{staticStyle:{width:"240px","max-height":"200px",overflow:"auto"},attrs:{"body-style":{padding:"5px 5px"}}},[0==e.tableDeviceList.length?r("span",{staticClass:"color-disabeld"},[e._v(e._s(e.$t("暂无数据")))]):r("ul",[r("el-checkbox-group",{model:{value:e.form.deviceList,callback:function(t){e.$set(e.form,"deviceList",t)},expression:"form.deviceList"}},e._l(e.tableDeviceList,(function(t,o){return r("li",{key:o},[r("el-checkbox",{key:o,attrs:{label:t.value}},[e._v(e._s(t.label))])],1)})),0)],1)])],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"margin-bottom-5"},[r("span",{staticClass:"color-muted"},[e._v(e._s(e.$t("二维码/刷卡设备")))])]),e._v(" "),r("el-card",{staticStyle:{width:"240px","max-height":"200px",overflow:"auto"},attrs:{"body-style":{padding:"5px 5px"}}},[0==e.tableDeviceList.length?r("span",{staticClass:"color-disabeld"},[e._v(e._s(e.$t("暂无数据")))]):r("ul",[r("el-checkbox-group",{model:{value:e.form.deviceList,callback:function(t){e.$set(e.form,"deviceList",t)},expression:"form.deviceList"}},e._l(e.tableDeviceDoorList,(function(t,o){return r("li",{key:o},[r("el-checkbox",{key:o,attrs:{label:t.value}},[e._v(e._s(t.label))])],1)})),0)],1)])],1)],1)],1)])],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:e.cancelDialog}},[e._v(e._s(e.$t("取消")))]),e._v(" "),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){0==e.dialogLoading&&e.okDialog()}}},[e.dialogLoading?r("i",{staticClass:"el-icon-loading"}):e._e(),e._v("\n        "+e._s(e.$t("确定"))+"\n      ")])],1)]),e._v(" "),r("my-normal-dialog",{attrs:{visible:e.visibleConfim,loading:e.dialogLoading,title:"提示",detail:e.subTitle,content:e.tips},on:{"update:visible":function(t){e.visibleConfim=t},"ok-click":e.handleOkChange,"cancel-click":e.handleCancelChange,close:e.closeDialog}})],1)}),[],!1,null,"b4bf2556",null);t.default=component.exports;installComponents(component,{MyPagination:r(234).default,LayoutTb:r(1261).default,TeacherTreeAndList:r(1285).default,MyCheck:r(1276).default,MyRadio:r(1269).default,DialogNormal:r(235).default,MyNormalDialog:r(1260).default})}}]);