(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{1257:function(e,t,l){"use strict";l.r(t);var n=l(6),o={name:"myInputButton",props:{placeholder:{default:"请输入内容",type:String},widthClass:{default:"width: 150px",type:String},selectWidthClass:{default:"width: 100px",type:String},size:{defalult:"medium",validate:function(e){return Object(n.D)(e,["large","medium","small","mini"])}},type:{defalult:"",validate:function(e){return Object(n.D)(e,["success","info","warning","danger","primary"])}},plain:{default:!1,type:Boolean},iconStyle:{default:"",type:String},showSelect:{default:!1,type:Boolean},clearable:{default:!1,type:Boolean},options:{default:function(){return[]},type:Array}},computed:{},mounted:function(){this.showIcon=""!==this.iconStyle},data:function(){return{inputValue:"",selectValue:"",showIcon:!1}},methods:{handleClick:function(data){var e={};this.selectValue?e={select:this.selectValue,input:this.inputValue}:this.selectValue||(e={input:this.inputValue}),this.$emit("click",e)},selectChange:function(data){this.selectValue=data}}},r=l(10),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("span",[l("el-input",{style:e.widthClass,attrs:{size:e.size,placeholder:e.placeholder,clearable:e.clearable},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[e.showSelect?l("el-select",{style:e.selectWidthClass,attrs:{slot:"prepend",clearable:e.clearable,placeholder:e.$t("请选择")},on:{change:e.selectChange},slot:"prepend",model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1):e._e()],1),e._v(" "),l("el-button",{attrs:{size:e.size,type:e.type,plain:e.plain},on:{click:e.handleClick}},[e.showIcon?l("i",{class:e.iconStyle}):e._e(),e._v("\n    "+e._s(e.$t("搜索"))+"\n  ")])],1)}),[],!1,null,null,null);t.default=component.exports},1258:function(e,t,l){"use strict";l.r(t);l(179);var n,o=l(104),r=l(6),c={name:"myDatePicker",props:(n={selValue:{default:"",type:[Array,String]},size:{defalult:"medium",validate:function(e){return Object(r.D)(e,["large","medium","small","mini"])}},type:{defalult:"date",validate:function(e){return Object(r.D)(e,["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"])}},placeholder:{default:"选择日期",type:String}},Object(o.a)(n,"size",{defalult:"medium",validate:function(e){return Object(r.D)(e,["large","medium","small","mini"])}}),Object(o.a)(n,"widthStyle",{default:"",type:[String,Number]}),Object(o.a)(n,"disabled",{default:!1,type:Boolean}),Object(o.a)(n,"readonly",{default:!1,type:Boolean}),Object(o.a)(n,"rangeSeparator",{default:"至",type:String}),Object(o.a)(n,"startPlaceholder",{default:"开始时间",type:String}),Object(o.a)(n,"endPlaceholder",{default:"结束时间",type:String}),Object(o.a)(n,"format",{default:"yyyy-MM-dd",type:String}),Object(o.a)(n,"valueFormat",{default:"yyyy-MM-dd",type:String}),Object(o.a)(n,"unlinkPanels",{default:!0,type:Boolean}),Object(o.a)(n,"clearable",{default:!1,type:Boolean}),Object(o.a)(n,"editable",{default:!1,type:Boolean}),Object(o.a)(n,"pickerOptions",{default:function(){return{}},type:Object}),n),computed:{selectModel:function(){this.value=this.selValue},setWidth:function(){this.widthStyle&&(this.width={width:this.widthStyle+"px"})}},mounted:function(){},data:function(){return{value:"",width:""}},methods:{handleChange:function(data){this.$emit("change",data)}}},d=l(10),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("span",[l("el-date-picker",e._b({style:e.width,attrs:{type:e.type,placeholder:e.placeholder,size:e.size,disabled:e.disabled,readonly:e.readonly,"range-separator":e.rangeSeparator,"start-placeholder":e.startPlaceholder,"end-placeholder":e.endPlaceholder,"unlink-panels":e.unlinkPanels,format:e.format,"value-format":e.valueFormat,"picker-options":e.pickerOptions,setWidth:e.setWidth,clearable:e.clearable},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"el-date-picker",e.selectModel,!1))],1)}),[],!1,null,null,null);t.default=component.exports},1488:function(e,t,l){var content=l(1878);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(31).default)("9945e5d2",content,!0,{sourceMap:!1})},1877:function(e,t,l){"use strict";var n=l(1488);l.n(n).a},1878:function(e,t,l){(t=l(30)(!1)).push([e.i,".room-photo[data-v-0201a1e9]{height:50px;width:45px;border:1px solid #ddd;border-radius:5px;margin-right:5px;display:inline-block}",""]),e.exports=t},2100:function(e,t,l){"use strict";l.r(t);l(106),l(710);var n=l(7),o=l(235),r=l(1260),c=l(1268),d=l(1265),m=l(1256),h=l(6),f=l(76),v=l(1344),_=l(1262),y=l(238),w=l(1257),C={mixins:[f.a,v.a],components:{MyElTree:_.default,DialogNormal:o.default,MyNormalDialog:r.default,DrawerRight:c.default,MyCascader:d.default,MySelect:m.default,UploadSquare:y.default,MyInputButton:w.default},data:function(){return{tableData:[],tableTeacherData:[],searchBuildId:"",searchFloorNum:"",modalVisible:!1,dialogLoading:!1,visibleConfim:!1,drawerVisible:!1,drawerLoading:!1,loadingList:!1,subTitle:"",subDetail:"",errorTips:"",searchTeacherName:"",searchKey:"",searchDate:"",searchStatus:"",uploadFileUrl:n.a.upload_file,form:{id:"",buildName:"",buildData:[],floor:"",roomNo:"",areaTotal:"0",personTotal:"",type:"",video:!1,buildId:"",buildingName:"",floorNum:"",arrow:"",price:"",reamrks:"",goodsNum:"",teacherId:[],choseLimit:!1,switch:!0,imgList:[],roomPhotos:""}}},created:function(){this.init()},methods:{init:function(){var e=this,t={page:this.page,num:this.num,addTimeBegin:this.searchDate?this.searchDate[0]:"",addTimeEnd:this.searchDate?this.searchDate[1]:"",searchKey:this.searchKey,status:this.searchStatus};this.$axios.get(n.a.dorm_online_page,{params:t}).then((function(t){t.data.data&&(e.tableData=t.data.data.list,e.total=t.data.data.totalCount,e.num=t.data.data.num,e.page=t.data.data.currentPage)}))},editInfo:function(e){var t=e.teacher_id?e.teacher_id.split(","):[],l=e.room_photos?e.room_photos.split("|"):[];this.form={id:e.id,buildName:e.build_name,buildData:[e.build_id,e.floor_num],floor:"",roomNo:e.dormitory_no,areaTotal:"0",personTotal:e.people_num,type:""+e.type,video:!1,buildId:e.build_id,buildingName:e.build_name,floorNum:e.floor_num,arrow:e.room_orient,price:e.room_price,remarks:e.room_des,goodsNum:e.people_num,teacherId:t,choseLimit:0==e.chose_limit,imgList:l,roomPhotos:""},this.modalVisible=!0},deleteInfo:function(e){this.form.id=e.id,this.subDetail=e.dormitory_no,this.visibleConfim=!0},nodeClick:function(data){this.searchBuildId="",this.searchFloorNum="",6==data.unit?(this.searchBuildId=data.id,this.searchFloorNum=data.floorNum):7==data.unit&&(this.searchBuildId=data.buildId,this.searchFloorNum=data.floorNum),this.page=1,this.init()},setInfo:function(e){this.form.id=e.id,this.subDetail=e.real_name,this.visibleConfim=!0},search:function(data){this.page=1,this.searchKey=data.input,this.init()},sizeChange:function(e){this.page=1,this.num=e,this.init()},currentPage:function(e){this.page=e,this.init()},jumpPage:function(data){this.page=data,this.init()},handleCancelChange:function(data){this.visibleConfim=!1},dormTypeInfo:function(e){return Object(h.n)(e)},handleTime:function(data){this.searchDate=data},handeSelect:function(data){this.searchStatus=data},handleOkChange:function(data){var e=this;this.dialogLoading=!0;var t,l={id:this.form.id};t=n.a.dorm_online_handle,l=this.$qs.stringify(l),this.$axios.post(t,l).then((function(t){200==t.data.code?(e.init(),Object(h.b)(t.data.desc)):Object(h.a)(t.data.desc),e.visibleConfim=!1,e.dialogLoading=!1}))}}},k=(l(1877),l(10)),component=Object(k.a)(C,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"container"},[l("layout-lr",[l("div",{attrs:{slot:"left"},slot:"left"},[l("div",{staticClass:"color-muted font-size-12 padding-tb-5 margin-top-10"},[l("span",{staticClass:"layout-left-menu-title"},[e._v("线上选寝")])]),e._v(" "),l("my-el-tree",{attrs:{type:"1","sub-type":"4"},on:{"node-click":e.nodeClick,"all-click":e.nodeClick}})],1),e._v(" "),l("div",{attrs:{slot:"right"},slot:"right"},[l("div",{staticClass:"layout-top-tab margin-top-5"},[l("el-row",[l("el-col",{attrs:{span:24}},[l("div",{staticClass:"text-right"},[l("div",{staticClass:"layout-inline text-right"},[l("my-select",{staticClass:"layout-item",attrs:{clearable:!0,"width-style":"120",size:"small","sel-value":e.searchStatus,options:e.filterBillStatus},on:{change:e.handeSelect}}),e._v(" "),l("my-date-picker",{staticClass:"layout-item",staticStyle:{position:"relative",top:"1px"},attrs:{type:"daterange","sel-value":e.searchDate,size:"small","width-style":"240"},on:{change:e.handleTime}}),e._v(" "),l("my-input-button",{staticClass:"layout-item",attrs:{size:"small",plain:"","width-class":"width: 150px",type:"success",clearable:!0,placeholder:e.$t("手机号/姓名")},on:{click:e.search}})],1)])])],1)],1),e._v(" "),l("div",{staticClass:"margin-top-10"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-class-name":"custom-table-cell-bg",size:"medium","max-height":e.tableHeight2.height}},[l("el-table-column",{attrs:{label:e.$t("日期"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[e._v(e._s(t.row.add_time?e.$moment(t.row.add_time).format("YYYY-MM-DD HH:mm:ss"):"--"))]),e._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(t.row.add_time?e.$moment(t.row.add_time).format("YYYY-MM-DD HH:mm:ss"):"--")+"\n                ")])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("院系"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[e._v(e._s(t.row.college_name))]),e._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(t.row.college_name)+"\n                ")])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("专业"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[e._v(e._s(t.row.major_name))]),e._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(t.row.major_name)+"\n                ")])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("班级"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[e._v(e._s(t.row.clazz_name))]),e._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(t.row.clazz_name)+"\n                ")])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("申请人"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[e._v(e._s(t.row.real_name))]),e._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(t.row.real_name)+"\n                ")])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("手机号"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[e._v(e._s(t.row.phone))]),e._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(t.row.phone)+"\n                ")])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("收款人"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[e._v(e._s(t.row.handler_name))]),e._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(t.row.handler_name)+"\n                ")])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("宿舍"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",[l("div",[l("span",[e._v(e._s(e.$t("宿舍"))+":")]),e._v(" "),l("span",[e._v(e._s(t.row.chose_name))])]),e._v(" "),l("div",[l("span",[e._v(e._s(e.$t("房号"))+":")]),e._v(" "),l("span",[e._v(e._s(t.row.dormitory_no))])]),e._v(" "),l("div",[l("span",[e._v(e._s(e.$t("床号"))+":")]),e._v(" "),l("span",[e._v(e._s(t.row.bed_no))])])]),e._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(t.row.dormitory_no)+"\n                  "),l("i",{staticClass:"fa fa-info-circle"})])])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("类型"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.dormTypeInfo(t.row.type))+"\n            ")]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("金额"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(t.row.room_price))])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:e.$t("缴费状态"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?l("span",{staticClass:"color-warning"},[e._v(e._s(e.$t("未缴费")))]):e._e(),e._v(" "),2==t.row.status?l("span",{staticClass:"color-success"},[e._v(e._s(e.$t("已缴费")))]):e._e(),e._v(" "),7==t.row.status?l("span",{staticClass:"color-disabeld"},[e._v(e._s(e.$t("取消")))]):e._e()]}}])}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:e.$t("操作"),align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?l("i",{staticClass:"fa fa-cog color-grand",on:{click:function(l){return e.setInfo(t.row)}}}):l("span",[e._v("--")])]}}])})],1)],1),e._v(" "),l("div",{staticClass:"layout-right-footer text-right"},[l("my-pagination",{staticClass:"layout-pagination",attrs:{total:e.total,"current-page":e.page,"page-size":e.num},on:{currentPage:e.currentPage,sizeChange:e.sizeChange,jumpChange:e.jumpPage}})],1)])]),e._v(" "),l("my-normal-dialog",{attrs:{visible:e.visibleConfim,loading:e.dialogLoading,title:"提示",content:"确认该学生已缴费？",detail:e.subDetail},on:{"update:visible":function(t){e.visibleConfim=t},"ok-click":e.handleOkChange,"cancel-click":e.handleCancelChange}})],1)}),[],!1,null,"0201a1e9",null);t.default=component.exports;installComponents(component,{MyElTree:l(1262).default,MySelect:l(1256).default,MyDatePicker:l(1258).default,MyInputButton:l(1257).default,MyPagination:l(234).default,LayoutLr:l(1264).default,MyNormalDialog:l(1260).default})}}]);