(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1259:function(t,e,l){var content=l(1267);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(31).default)("ca81b0e2",content,!0,{sourceMap:!1})},1260:function(t,e,l){"use strict";l.r(e);l(6);var n={name:"myNormalDialog",props:{visible:{type:Boolean,default:!0},title:{type:String,default:""},content:{type:String,default:""},detail:{type:String,default:""},width:{type:String,default:"30%"},loading:{type:Boolean,default:!1}},computed:{openCardDialog:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}},setLoading:{get:function(){return this.loading},set:function(t){}}},data:function(){return{showLoading:!1}},methods:{handleOkChange:function(data){this.$emit("ok-click",data)},handleCancelChange:function(data){this.$emit("cancel-click",data)},closeDialog:function(data){this.$emit("close",data)}}},o=l(10),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-dialog",{staticClass:"custom-dialog",attrs:{visible:t.openCardDialog,"close-on-click-modal":!1,loading:t.loading},on:{"update:visible":function(e){t.openCardDialog=e},close:t.closeDialog}},[l("div",{attrs:{slot:"title"},slot:"title"},[l("div",{staticClass:"dialog-title"},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),l("div",{staticStyle:{height:"1px",background:"#EBEEF5",margin:"0px 0px"}})]),t._v(" "),l("div",{staticClass:"text-center"},[l("div",[l("i",{staticClass:"fa fa-info-circle",staticStyle:{"font-size":"18px"}}),t._v("\n        "+t._s(t.content)+"\n      ")]),t._v(" "),l("div",{staticClass:"color-muted font-size-12 margin-top-5"},[t._v("\n        "+t._s(t.detail)+"\n      ")])]),t._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[l("div",{staticStyle:{height:"1px",background:"#EBEEF5",margin:"0px 0px"}}),t._v(" "),l("el-row",[l("el-col",{staticClass:"text-center",attrs:{span:12}},[l("div",{staticStyle:{background:"#ffffff",width:"100%",height:"100%",cursor:"default"},on:{click:t.handleCancelChange}},[t._v(t._s(t.$t("取消")))])]),t._v(" "),l("el-col",{staticClass:"text-center",attrs:{span:12}},[l("div",{staticStyle:{background:"#f5f5f5",width:"100%",height:"100%",cursor:"default"},on:{click:function(e){0==t.loading&&t.handleOkChange()}}},[l("span",{class:{"color-muted":t.loading}},[t.loading?l("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n              "+t._s(t.$t("确定"))+"\n            ")])])])],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports},1262:function(t,e,l){"use strict";l.r(e);l(135),l(105),l(179),l(53);var n=l(9),o=l(6),r={name:"myElTree",mixins:[l(76).a],components:{},props:{selValue:{default:!1,type:[Boolean,Array,Number,String]},size:{defalult:"small",validate:function(t){return Object(o.D)(t,["large","medium","small","mini"])}},defaultCheckedKeys:{default:function(){return[]},type:Array},defaultExpandedKeys:{default:function(){return[]},type:Array},currentNodeKey:{default:"",type:[String,Number]},width:{default:"",type:[String,Number]},iconExtra:{default:"",type:String},iconPrefix:{default:"",type:String},showCheckbox:{default:!1,type:Boolean},opr:{default:!1,type:Boolean},type:{default:"",type:String},subType:{default:"1",type:String},extraType:{default:"",type:String},showCampus:{default:!0,type:Boolean}},computed:{selectModel:function(){this.dataCollege=this.setData(this.data)},setClass:function(){return[]}},data:function(){return{data:[],filterText:"",slotDefault:!1,slotTop:!1,nodeTreeCurrentId:"7",selectCampusAll:!0}},mounted:function(){this.slotDefault=void 0!==this.$slots.middle,this.slotTop=void 0!==this.$slots.top},created:function(){this.initInfo()},methods:{initInfo:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSessionInfo();case 2:if(1!=t.type){e.next=8;break}return e.next=5,t.getCollegeInfo(t.subType);case 5:t.data=t.dataCollege,e.next=60;break;case 8:if(2!=t.type){e.next=14;break}return e.next=11,t.getDormBuildInfo(t.subType);case 11:t.data=t.dataDormBuild,e.next=60;break;case 14:if(3!=t.type){e.next=20;break}return e.next=17,t.getSchoolBuildInfo(t.subType);case 17:t.data=t.dataSchoolBuild,e.next=60;break;case 20:if(4!=t.type){e.next=26;break}return e.next=23,t.getDeptInfo(t.subType);case 23:t.data=t.dataDept,e.next=60;break;case 26:if(100!=t.type){e.next=32;break}return e.next=29,t.getAppletInfo(t.extraType);case 29:t.data=t.dataApplet,e.next=60;break;case 32:if(110!=t.type){e.next=40;break}return e.next=35,t.getAppletServerInfo(t.extraType);case 35:t.data=t.dataAppletServer,t.selectCampusAll=!1,t.$nextTick((function(){t.$refs.tree&&t.$refs.tree.setCurrentKey(t.currentNodeKey)})),e.next=60;break;case 40:if(111!=t.type){e.next=46;break}return e.next=43,t.getAppletServerInfo(t.extraType);case 43:t.data=t.dataAppletServer,e.next=60;break;case 46:if(120!=t.type){e.next=54;break}return e.next=49,t.getLinkProcessInfo();case 49:t.data=t.dataProcessServer,t.selectCampusAll=!1,t.$nextTick((function(){t.$refs.tree&&t.$refs.tree.setCurrentKey(t.currentNodeKey)})),e.next=60;break;case 54:if(121!=t.type){e.next=60;break}return e.next=57,t.getLinkProcessLinkInfo(t.subType);case 57:t.data=t.dataProcessLinkServer,t.selectCampusAll=!1,t.$nextTick((function(){t.$refs.tree&&t.$refs.tree.setCurrentKey(t.currentNodeKey)}));case 60:case"end":return e.stop()}}),e)})))()},filterNode:function(t,data){return!t||-1!==data.label.indexOf(t)},handleNodeClick:function(data){this.selectCampusAll=!1,this.$emit("node-click",data)},handleCheckChange:function(data,t,e){this.$emit("check-change",data,t,e)},nodeClickCampusAll:function(data){this.selectCampusAll=!0,this.$emit("all-click",data)}},watch:{filterText:function(t){this.$refs.tree.filter(t)},type:function(t){this.initInfo()},subType:function(t){this.initInfo()}}},c=(l(1266),l(10)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[t.slotTop?l("div",{staticClass:"padding-tb-5 padding-lr-10"},[t._t("top")],2):t._e(),t._v(" "),l("div",{staticClass:"padding-tb-5 padding-lr-10"},[l("el-input",{attrs:{size:"medium",placeholder:"输入关键字进行过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1),t._v(" "),t.slotDefault?l("div",{staticClass:"padding-tb-5 padding-lr-10"},[t._t("middle")],2):t._e(),t._v(" "),l("div",{staticClass:"tree-container custom-el-tree margin-top-5"},[t.showCampus?l("el-tooltip",{attrs:{effect:"dark",content:t.campusName,placement:"top"}},[l("div",{staticClass:"moon-content-text-ellipsis-class",class:1==t.selectCampusAll?"tree-el-tree-all":"tree-el-tree-all-no",on:{click:t.nodeClickCampusAll}},[t._v("\n        "+t._s(t.campusName)+"\n      ")])]):t._e(),t._v(" "),l("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:t.data,"show-checkbox":t.showCheckbox,"filter-node-method":t.filterNode,"default-checked-keys":t.defaultCheckedKeys,"default-expanded-keys":t.defaultExpandedKeys,currentNodeKey:t.currentNodeKey,"node-key":"id","highlight-current":1!=t.selectCampusAll},on:{"node-click":t.handleNodeClick,"check-change":t.handleCheckChange}})],1)])}),[],!1,null,"3c5e5d0c",null);e.default=component.exports},1263:function(t,e,l){var content=l(1272);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(31).default)("6a31cf35",content,!0,{sourceMap:!1})},1264:function(t,e,l){"use strict";l.r(e);var n={name:"LayoutLr"},o=l(10),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"layout-left-menu animated fadeInLeft"},[this._t("left")],2),this._v(" "),e("div",{staticClass:"layout-right-menu"},[this._t("right")],2)])}),[],!1,null,"42aaf4c3",null);e.default=component.exports},1266:function(t,e,l){"use strict";var n=l(1259);l.n(n).a},1267:function(t,e,l){(e=l(30)(!1)).push([t.i,".tree-el-tree-all[data-v-3c5e5d0c]{background:#f0f7ff}.tree-el-tree-all[data-v-3c5e5d0c],.tree-el-tree-all-no[data-v-3c5e5d0c]{height:25px;line-height:25px;padding:3px 10px;text-align:left;font-size:14px;color:#606266}",""]),t.exports=e},1268:function(t,e,l){"use strict";l.r(e);l(65);var n=l(76),o=(l(6),l(7),{mixins:[n.a],props:{title:{default:"信息",type:String},visible:{default:!1,type:Boolean},direction:{default:"rtl",type:String},hideFooter:{default:!1,type:Boolean},loading:{default:!1,type:Boolean},size:{defalult:"30%",type:String},action:{default:"",type:String},downloadFile:{default:"",type:String},accept:{default:"",type:String},data:{default:function(){return{}},type:Object},process:{default:"",type:String},result:{default:function(){return{}||[]},type:[Object,Array]},setBefore:{default:!1,type:Boolean}},computed:{drawer_:{get:function(){return this.visible},set:function(t){this.$emit("changeDrawer",t)}}},data:function(){return{drawer:!1,dialogNormalVisible:!1,footer:!1,header:!1,drawerLoading:!1}},mounted:function(){this.dialogNormalVisible=this.visible,this.footer=void 0!==this.$slots.footer,this.header=void 0!==this.$slots.title},created:function(){},methods:{handleClose:function(data){this.footer?this.handleCancel():this.$emit("right-close",data)},handleOk:function(data){this.$emit("ok",data)},handleCancel:function(data){this.$emit("cancel",data)},download:function(t){window.open(this.downloadFile,"_self")},handleAvatarSuccess:function(t,e){this.$emit("success",t,e)},handleAvatarError:function(t,e){this.$emit("error",t,e)},handleAvatarBefore:function(t){this.setBefore&&(this.data.fileName=t.name)}}}),r=(l(1271),l(10)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"container"},[l("el-drawer",{staticStyle:{"margin-top":"60px"},attrs:{tabindex:"0","custom-class":"drawer-normal-drawer",visible:t.drawer_,direction:t.direction,wrapperClosable:!0,"show-close":!1,"modal-append-to-body":!1,size:t.size},on:{"update:visible":function(e){t.drawer_=e}}},[l("div",{staticClass:"drawer-normal-title",attrs:{slot:"title"},slot:"title"},[l("span",{attrs:{tabindex:"1"}}),t._v(" "),t.header?t._e():l("el-row",[l("el-col",{attrs:{span:12}},[l("div",{staticClass:"drawer-normal-header"},[l("span",{staticClass:"title"},[t._v(t._s(t.title))])])]),t._v(" "),l("el-col",{attrs:{span:12}},[l("div",{staticClass:"drawer-normal-close text-right color-disabeld font-size-14"},[l("i",{staticClass:"fa fa-close",on:{click:t.handleClose}})])])],1)],1),t._v(" "),l("div",{staticClass:"drawer-normal-body",style:0==t.hideFooter?t.drawHeight:""},[l("div",[l("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.download}},[l("i",{staticClass:"fa fa-download"}),t._v("\n          "+t._s(t.$t("下载模版"))+"\n        ")]),t._v(" "),l("span",{staticClass:"font-size-12 color-muted"},[t._v("("+t._s(t.$t("支持Excel2003或者Excel2007"))+")")])],1),t._v(" "),l("div",{staticClass:"margin-top-10"},[l("div",{staticClass:"padding-tb-5 color-muted"},[l("span",[t._v(t._s(t.$t("文件上传")))])]),t._v(" "),l("div",[l("el-upload",{staticClass:"custom-upload",attrs:{drag:"",action:t.action,accept:t.accept,data:t.data,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-error":t.handleAvatarError,"before-upload":t.handleAvatarBefore}},[l("i",{staticClass:"el-icon-upload"}),t._v(" "),l("div",{staticClass:"el-upload__text"},[t._v(t._s(t.$t("将文件拖到此处，或"))),l("em",[t._v(t._s(t.$t("点击上传")))])])])],1),t._v(" "),l("div",{staticClass:"padding-tb-5 color-muted"},[l("span",[t._v(t._s(t.$t("上传结果")))])]),t._v(" "),l("div",[l("el-timeline",[l("el-timeline-item",[l("div",{staticClass:"color-muted font-size-12"},[l("span",[t._v(t._s(t.$t("上传进度")))])]),t._v(" "),l("div",{staticClass:"color-disabeld font-size-12 margin-top-5"},[""!=t.process?l("span",[t._v(t._s(t.process))]):l("span",[t._v(t._s(t.$t("文件未上传")))])])]),t._v(" "),l("el-timeline-item",[l("div",{staticClass:"color-muted font-size-12"},[l("span",[t._v(t._s(t.$t("上传结果")))])]),t._v(" "),l("div",{staticClass:"color-disabeld font-size-12 margin-top-5"},[Object.keys(t.result).length>0?l("div",t._l(t.result,(function(e,n){return l("div",{key:n},[l("span",[t._v(t._s(e))])])})),0):l("span",[t._v(t._s(t.$t("暂无数据")))])])])],1)],1)])]),t._v(" "),0==t.hideFooter?l("div",{staticClass:"drawer-normal-footer",attrs:{"hide-footer":t.hideFooter}},[l("el-button",{attrs:{size:"small"},on:{click:t.handleCancel}},[t._v(t._s(t.$t("取消")))]),t._v(" "),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){0==t.loading&&t.handleOk()}}},[t.loading?l("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n        "+t._s(t.$t("确定"))+"\n      ")])],1):t._e()])],1)}),[],!1,null,"5cbdbb54",null);e.default=component.exports},1271:function(t,e,l){"use strict";var n=l(1263);l.n(n).a},1272:function(t,e,l){(e=l(30)(!1)).push([t.i,"",""]),t.exports=e},1389:function(t,e,l){var content=l(1686);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(31).default)("2ee22584",content,!0,{sourceMap:!1})},1685:function(t,e,l){"use strict";var n=l(1389);l.n(n).a},1686:function(t,e,l){(e=l(30)(!1)).push([t.i,".block-item-row[data-v-262ec75f]{height:35px;line-height:35px}",""]),t.exports=e},2031:function(t,e,l){"use strict";l.r(e);var n=l(76),o=l(7),r=l(6),c=l(1262),d={components:{DrawerLayoutRight:l(236).default,MyElTree:c.default},mixins:[n.a],data:function(){return{tableData:[],collegeList:[],categorys:[],applyContentArr:[],types:[],subTitle:"",collegeData:"",searchKey:"",searchType:"",searchStatus:"",searchAuditStatus:"",queryApplyListType:0,formId:"",listId:"",uploadFile:o.a.doomroom_import_file+"?fileName="+encodeURIComponent(this.$t("模板.xlsx")),uploadAction:o.a.doomroom_import,uploadResult:{},detailData:"",uploadProcess:"",detailApplyContentData:[],detailApplyAuditList:[],dialogLoading:!1,dialogApp:!1,visibleConfim:!1,drawerVisible:!1,drawerLoading:!1,dialogServer:!1,dialogServerDetail:!1}},created:function(){this.init()},methods:{init:function(){var t=this,e={page:this.page,num:this.num,queryApplyListType:this.queryApplyListType,formId:this.formId,status:this.searchAuditStatus},l=[];this.$axios.get(o.a.server_form_template_form_apply_page,{params:e}).then((function(e){if(e.data.data){e.data.data.list&&e.data.data.list.length>0&&e.data.data.list[0].applyContent&&(l=JSON.parse(e.data.data.list[0].applyContent));for(var i=0;i<e.data.data.list.length;i++)if(e.data.data.list[i].applyContent){JSON.parse(e.data.data.list[i].applyContent);e.data.data.list[i].applyContentObj=JSON.parse(e.data.data.list[i].applyContent)}t.applyContentArr=l,t.tableData=e.data.data.list,t.total=e.data.data.total,t.num=e.data.data.num,t.page=e.data.data.page}}))},initAuditDetailList:function(t){var e=this,l={id:t};this.$axios.get(o.a.server_form_audit_query,{params:l}).then((function(t){200==t.data.code&&t.data.data&&(e.detailApplyAuditList=t.data.data.handleList)}))},sizeChange:function(t){this.page=1,this.num=t,this.init()},currentPage:function(t){this.page=t,this.init()},jumpPage:function(data){this.page=data,this.init()},uploadData:function(){this.drawerVisible=!0},expandInfo:function(){var t,e={queryApplyListType:this.queryApplyListType,status:this.searchStatus};e.formId=this.formId,e=this.$qs.stringify(e),t=o.a.server_form_audit_export,window.open(t+"?"+e,"_self")},detailInfo:function(t){if(this.detailData=t,t.applyContent&&"[]"!=t.applyContent){this.detailApplyContentData=this.setRuleChild(JSON.parse(t.applyContent),[])}this.initAuditDetailList(t._id),this.dialogServerDetail=!0},deleteInfo:function(t){this.listId=t._id,this.visibleConfim=!0},closeDialog:function(t){this.listId="",this.subTitle="",this.detailData="",this.detailApplyContentData=[],this.detailApplyAuditList=[]},closeDrawerDialog:function(t){this.drawerVisible=t,this.dialogServerDetail=t},closeDrawDialog:function(t){this.drawerVisible=!1},cancelDrawDialog:function(){this.drawerVisible=!1,this.dialogServerDetail=!1},handleCancelChange:function(data){this.visibleConfim=!1},handleOkChange:function(data){var t=this;this.dialogLoading=!0;var e,l={id:this.listId};e=o.a.server_form_audit_delete,l=this.$qs.stringify(l),this.$axios.post(e,l).then((function(e){200==e.data.code?(t.init(),Object(r.b)(e.data.desc)):Object(r.a)(e.data.desc),t.visibleConfim=!1,t.dialogLoading=!1}))},okDrawDialog:function(t){var e=this;this.drawerLoading=!0,setTimeouts((function(){e.$message({message:"恭喜你，这是一条成功消息",type:"success"}),e.drawerLoading=!1,e.drawerVisible=!1}),2e3)},uploadSuccess:function(t,e){this.uploadProcess=t.desc,200==t.code?this.uploadResult=t.data?t.data:[t.desc]:t.data?this.uploadResult=t.data:this.uploadResult=[t.desc]},uploadError:function(t,e){this.uploadProcess=t.data.data},nodeClick:function(data){this.formId="",this.page=1,2==data.unit&&(this.formId=data.id),1!=data.unit&&this.init()},setRuleChild:function(t,e){for(var l={},i=0;i<t.length;i++)t[i].children&&t[i].children.length>0?this.setRuleChild(t[i].children,e):t[i].field&&(l={field:t[i].field,title:t[i].title,type:t[i].type,value:t[i].value},e.push(l));return e}}},f=(l(1685),l(10)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"container"},[l("layout-lr",[l("div",{attrs:{slot:"left"},slot:"left"},[l("div",{staticClass:"color-muted font-size-12 padding-tb-5 margin-top-10"},[l("span",{staticClass:"layout-left-menu-title"},[t._v("数据中心")])]),t._v(" "),l("my-el-tree",{attrs:{type:"110","extra-type":t.$route.query.appName},on:{"node-click":t.nodeClick,"all-click":t.nodeClick}})],1),t._v(" "),l("div",{attrs:{slot:"right"},slot:"right"},[l("div",{staticClass:"layout-top-tab margin-top-5"},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-button",{attrs:{size:"small",type:"warning",icon:"el-icon-download"},on:{click:function(e){return t.expandInfo(e)}}},[t._v(t._s(t.$t("导出")))])],1),t._v(" "),l("el-col",{staticClass:"text-right",attrs:{span:16}})],1)],1),t._v(" "),l("div",{staticClass:"margin-top-10"},[l("el-table",{ref:"refTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-class-name":"custom-table-cell-bg",size:"medium","max-height":t.tableHeight2.height}},[l("el-table-column",{attrs:{align:"center",label:t.$t("申请日期")},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[t._v(t._s(t.$moment(e.row.applyTime).format("YYYY-MM-DD HH:mm:ss")))]),t._v(" "),l("span",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[t._v("\n                    "+t._s(t.$moment(e.row.applyTime).format("YYYY-MM-DD HH:mm:ss"))+"\n                  ")])])]}}])}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:t.$t("姓名")},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[t._v(t._s(e.row.applyUserName))]),t._v(" "),l("span",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[t._v("\n                    "+t._s(e.row.applyUserName)+"\n                  ")])])]}}])}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:t.$t("学号/工号")},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[t._v(t._s(e.row.userNo))]),t._v(" "),l("span",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[t._v("\n                    "+t._s(e.row.userNo)+"\n                  ")])])]}}])}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:t.$t("班级/部门")},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[4==e.row.userType?l("label",[t._v(t._s(e.row.departmentName))]):l("label",[t._v(t._s(e.row.className))])]),t._v(" "),l("span",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[4==e.row.userType?l("label",[t._v(t._s(e.row.departmentName))]):l("label",[t._v(t._s(e.row.className))])])])]}}])}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:t.$t("状态")},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"custom-table-popover"}},[l("div",{staticClass:"text-center"},[-1===e.row.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("撤销")))]):t._e(),t._v(" "),0===e.row.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("待审核")))]):t._e(),t._v(" "),3===e.row.status?l("label",{staticClass:"color-success"},[t._v(t._s(t.$t("通过")))]):t._e(),t._v(" "),4===e.row.status?l("label",{staticClass:"color-danger"},[t._v(t._s(t.$t("未通过")))]):t._e()]),t._v(" "),l("div",{staticClass:"name-wrapper moon-content-text-ellipsis-class",attrs:{slot:"reference"},slot:"reference"},[-1===e.row.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("撤销")))]):t._e(),t._v(" "),0===e.row.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("待审核")))]):t._e(),t._v(" "),3===e.row.status?l("label",{staticClass:"color-success"},[t._v(t._s(t.$t("通过")))]):t._e(),t._v(" "),4===e.row.status?l("label",{staticClass:"color-danger"},[t._v(t._s(t.$t("未通过")))]):t._e()])])]}}])}),t._v(" "),l("el-table-column",{attrs:{align:"center",width:"100",fixed:"right",label:t.$t("操作")},scopedSlots:t._u([{key:"default",fn:function(e){return[l("i",{staticClass:"fa fa-file-text margin-right-5 color-grand",on:{click:function(l){return t.detailInfo(e.row)}}}),t._v(" "),l("i",{staticClass:"fa fa-trash color-danger",on:{click:function(l){return t.deleteInfo(e.row)}}})]}}])})],1)],1),t._v(" "),l("div",{staticClass:"layout-right-footer text-right"},[l("my-pagination",{staticClass:"layout-pagination",attrs:{total:t.total,"current-page":t.page,"page-size":t.num},on:{currentPage:t.currentPage,sizeChange:t.sizeChange,jumpChange:t.jumpPage}})],1)])]),t._v(" "),l("drawer-layout-right",{attrs:{tabindex:"0","hide-footer":-1!=t.detailData.status&&3!=t.detailData.status,visible:t.dialogServerDetail,size:"600px",title:t.$t("详情")},on:{changeDrawer:t.closeDrawerDialog,"right-close":t.cancelDrawDialog}},[l("div",{staticClass:"color-muted",attrs:{slot:"content"},slot:"content"},[l("div",{staticClass:"detail-block-title padding-lr-10 padding-tb-10 font-size-12"},[l("el-row",[l("el-col",{attrs:{span:12}},[l("span",[t._v(t._s(t.$t("申请人"))+":")]),t._v(" "),l("span",[t._v(t._s(t.detailData.applyUserName))])]),t._v(" "),l("el-col",{attrs:{span:12}},[l("span",[t._v(t._s(t.$t("学号/工号"))+":")]),t._v(" "),l("span",[t._v(t._s(t.detailData.userNo))])])],1),t._v(" "),l("el-row",{staticClass:"margin-top-5"},[l("el-col",{attrs:{span:12}},[l("span",[t._v(t._s(t.$t("服务名称"))+":")]),t._v(" "),l("span",[t._v(t._s(t.detailData.formName))])]),t._v(" "),l("el-col",{attrs:{span:12}},[l("span",[t._v(t._s(t.$t("班级/部门"))+":")]),t._v(" "),l("span",[5==t.detailData.userType?l("label",[t._v(t._s(t.detailData.className))]):t._e(),t._v(" "),4==t.detailData.userType?l("label",[t._v(t._s(t.detailData.departmentName))]):t._e()])])],1),t._v(" "),l("el-row",{staticClass:"margin-top-5"},[l("el-col",{attrs:{span:12}},[l("span",[t._v(t._s(t.$t("申请日期"))+":")]),t._v(" "),l("span",[t._v(t._s(t.$moment(t.detailData.applyTime).format("YYYY-MM-DD HH:mm")))])])],1)],1),t._v(" "),l("div",{staticClass:"margin-top-10"},[l("div",{staticClass:"color-muted margin-top-5 font-size-12 border-bottom-1"},[l("span",[l("label",{staticClass:"title-block-tag"}),t._v(" "),l("label",{staticClass:"title-block-text color-warning"},[t._v(t._s(t.$t("申请内容")))])])]),t._v(" "),l("div",{staticClass:"block-item-bg font-size-12 margin-top-10 color-sub-title"},[t._l(t.detailApplyContentData,(function(e,n){return["fc-editor"!=e.type&&"upload"!=e.type?l("div",{staticClass:"block-item-row padding-lr-10 font-bold"},[l("span",{staticClass:"color-muted",staticStyle:{position:"relative",top:"-13px"}},[t._v(t._s(e.title)+": ")]),t._v(" "),l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.value,placement:"top"}},[l("span",{staticClass:"moon-content-text-ellipsis-class",staticStyle:{"max-width":"400px",display:"inline-block"}},[t._v("\n                      "+t._s(e.value)+"\n                    ")])])],1):"fc-editor"!=e.type&&"upload"==e.type?l("div",{staticClass:"padding-lr-10 font-bold"},[!e.value||e.value.length<=0?l("span",{staticClass:"color-muted",staticStyle:{position:"relative",top:"10px"}},[t._v(t._s(e.title)+": ")]):l("span",{staticClass:"color-muted",staticStyle:{position:"relative",top:"-13px"}},[t._v(t._s(e.title)+": ")]),t._v(" "),!e.value||e.value.length<=0?l("span",[l("div",{staticStyle:{height:"20px","line-height":"20px"}})]):t._l(e.value,(function(t,n){return l("span",{key:n,staticClass:"custom-avatar",staticStyle:{display:"inline-block","margin-right":"5px"}},[l("el-image",{staticStyle:{width:"30px",height:"30px"},attrs:{src:t,"preview-src-list":e.value}})],1)}))],2):l("div",{staticClass:"padding-lr-10"},[l("span",{staticClass:"color-muted font-bold",staticStyle:{position:"relative",top:"-150px"}},[t._v(t._s(e.title)+": ")]),t._v(" "),"fc-editor"==e.type?l("div",{staticStyle:{"max-width":"400px",height:"150px","overflow-y":"auto",display:"inline-block",border:"1px solid #dddddd","border-radius":"5px",width:"100%",padding:"10px"},domProps:{innerHTML:t._s(e.value)}}):t._e()])]}))],2)]),t._v(" "),0!=t.detailData.formType?l("div",{staticClass:"margin-top-10"},[l("div",{staticClass:"color-muted margin-top-5 font-size-12 border-bottom-1"},[l("span",[l("label",{staticClass:"title-block-tag"}),t._v(" "),l("label",{staticClass:"title-block-text color-warning"},[t._v(t._s(t.$t("审批进度")))])])]),t._v(" "),l("div",{staticClass:"block-item-bg font-size-12 margin-top-10 color-sub-title"},[l("el-steps",{attrs:{direction:"vertical",space:"60px"}},t._l(t.detailApplyAuditList,(function(e,n){return l("el-step",{key:n},[l("div",{attrs:{slot:"icon"},slot:"icon"},[l("i",{staticClass:"fa fa-flag",staticStyle:{"font-size":"12px"}})]),t._v(" "),l("div",{staticClass:"font-size-12",attrs:{slot:"title"},slot:"title"},["handle"==e.nodeType?l("span",{staticClass:"color-success"},[t._v("\n                    "+t._s(t.$t("审批"))+"\n                    "),"and"==e.andor?l("label",[t._v(" ("+t._s(t.$t("与签"))+") ")]):t._e(),t._v(" "),"or"==e.andor?l("label",[t._v(" ("+t._s(t.$t("或签"))+") ")]):t._e()]):t._e(),t._v(" "),"cc"==e.nodeType?l("span",{staticClass:"color-warning"},[t._v(t._s(t.$t("抄送")))]):t._e()]),t._v(" "),l("div",{staticClass:"font-size-12 color-sub-title",attrs:{slot:"description"},slot:"description"},[l("div",["handle"==e.nodeType?t._l(e.handleUserList,(function(e,n){return l("div",{key:n},[l("span",{staticClass:"color-grand"},[l("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(e.userName)+" ")]),t._v(" "),l("span",{staticClass:"margin-left-10"},[-1===e.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("撤销")))]):t._e(),t._v(" "),0===e.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("待审核")))]):t._e(),t._v(" "),3===e.status?l("label",{staticClass:"color-success"},[t._v(t._s(t.$t("通过")))]):t._e(),t._v(" "),4===e.status?l("label",{staticClass:"color-danger"},[t._v(t._s(t.$t("未通过")))]):t._e(),t._v(" "),1===e.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("已通过")))]):t._e(),t._v(" "),2===e.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("已驳回")))]):t._e(),t._v(" "),5===e.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("无需审批")))]):t._e(),t._v(" "),8===e.status?l("label",{staticClass:"color-warning"},[t._v(t._s(t.$t("审批中")))]):t._e()]),t._v(" "),e.handleTime?l("span",{staticClass:"margin-left-10"},[l("label",{staticClass:"color-muted"},[t._v(t._s(t.$moment(e.handleTime).format("YYYY-MM-DD HH:mm:ss")))])]):t._e()])})):t._e(),t._v(" "),"cc"==e.nodeType?[t._l(e.handleUserNameList,(function(e,n){return n<=5?l("el-tag",{key:n,attrs:{size:"mini"}},[l("div",{staticClass:"moon-content-text-ellipsis-class",staticStyle:{width:"50px"}},[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e,placement:"top-start"}},[l("span",[t._v(t._s(e))])])],1)]):t._e()})),t._v(" "),e.handleUserNameList.length>5?l("el-popover",{attrs:{placement:"left",width:"200",trigger:"hover"}},[l("div",{staticStyle:{height:"100px","overflow-y":"auto"}},t._l(e.handleUserNameList,(function(e,n){return l("div",{key:n},[l("div",{staticClass:"font-size-12 padding-tb-5"},[l("span",[t._v(t._s(e))])])])})),0),t._v(" "),l("el-tag",{attrs:{slot:"reference",size:"mini",type:"success"},slot:"reference"},[l("div",{staticClass:"moon-content-text-ellipsis-class padding-lr-5"},[l("i",{staticClass:"fa fa-user"}),t._v(" "),l("label",{staticClass:"margin-left-5"},[t._v(t._s(e.handleUserNameList.length))])])])],1):t._e()]:t._e()],2)])])})),1)],1)]):t._e()]),t._v(" "),l("div",{attrs:{slot:"footer"},slot:"footer"},[-1===t.detailData.status?l("div",{staticClass:"color-white text-center bg-warning"},[t._v(t._s(t.$t("撤销")))]):t._e(),t._v(" "),3===t.detailData.status?l("div",{staticClass:"color-white text-center bg-success"},[t._v(t._s(t.$t("已通过")))]):t._e()])]),t._v(" "),l("drawer-right",{attrs:{visible:t.drawerVisible,accept:".png,.jpg,.jpeg",data:{all:!0},loading:t.drawerLoading,"hide-footer":!0,size:"400px",title:t.$t("导入数据"),action:t.uploadAction,"download-file":t.uploadFile,result:t.uploadResult,process:t.uploadProcess},on:{changeDrawer:t.closeDrawerDialog,"right-close":t.cancelDrawDialog,success:t.uploadSuccess,error:t.uploadError}}),t._v(" "),l("my-normal-dialog",{attrs:{visible:t.visibleConfim,loading:t.dialogLoading,title:"提示",detail:t.subTitle,content:"确认需要删除该信息？"},on:{"update:visible":function(e){t.visibleConfim=e},"ok-click":t.handleOkChange,"cancel-click":t.handleCancelChange,close:t.closeDialog}})],1)}),[],!1,null,"262ec75f",null);e.default=component.exports;installComponents(component,{MyElTree:l(1262).default,MyPagination:l(234).default,LayoutLr:l(1264).default,DrawerLayoutRight:l(236).default,DrawerRight:l(1268).default,MyNormalDialog:l(1260).default})}}]);