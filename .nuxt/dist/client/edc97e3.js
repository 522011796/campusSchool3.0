(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1260:function(t,e,o){"use strict";o.r(e);o(6);var l={name:"myNormalDialog",props:{visible:{type:Boolean,default:!0},title:{type:String,default:""},content:{type:String,default:""},detail:{type:String,default:""},width:{type:String,default:"30%"},loading:{type:Boolean,default:!1}},computed:{openCardDialog:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}},setLoading:{get:function(){return this.loading},set:function(t){}}},data:function(){return{showLoading:!1}},methods:{handleOkChange:function(data){this.$emit("ok-click",data)},handleCancelChange:function(data){this.$emit("cancel-click",data)},closeDialog:function(data){this.$emit("close",data)}}},n=o(10),component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-dialog",{staticClass:"custom-dialog",attrs:{visible:t.openCardDialog,"close-on-click-modal":!1,loading:t.loading},on:{"update:visible":function(e){t.openCardDialog=e},close:t.closeDialog}},[o("div",{attrs:{slot:"title"},slot:"title"},[o("div",{staticClass:"dialog-title"},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),o("div",{staticStyle:{height:"1px",background:"#EBEEF5",margin:"0px 0px"}})]),t._v(" "),o("div",{staticClass:"text-center"},[o("div",[o("i",{staticClass:"fa fa-info-circle",staticStyle:{"font-size":"18px"}}),t._v("\n        "+t._s(t.content)+"\n      ")]),t._v(" "),o("div",{staticClass:"color-muted font-size-12 margin-top-5"},[t._v("\n        "+t._s(t.detail)+"\n      ")])]),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("div",{staticStyle:{height:"1px",background:"#EBEEF5",margin:"0px 0px"}}),t._v(" "),o("el-row",[o("el-col",{staticClass:"text-center",attrs:{span:12}},[o("div",{staticStyle:{background:"#ffffff",width:"100%",height:"100%",cursor:"default"},on:{click:t.handleCancelChange}},[t._v(t._s(t.$t("取消")))])]),t._v(" "),o("el-col",{staticClass:"text-center",attrs:{span:12}},[o("div",{staticStyle:{background:"#f5f5f5",width:"100%",height:"100%",cursor:"default"},on:{click:function(e){0==t.loading&&t.handleOkChange()}}},[o("span",{class:{"color-muted":t.loading}},[t.loading?o("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n              "+t._s(t.$t("确定"))+"\n            ")])])])],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports},1261:function(t,e,o){"use strict";o.r(e);var l={name:"LayoutTb",data:function(){return{showTab:!0,showTag:!1}},mounted:function(){this.showTab=void 0!==this.$slots.tab},created:function(){},methods:{}},n=o(10),component=Object(n.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"color-muted font-size-12 padding-top-5 animated fadeInUp"},[t.showTag?o("span",{staticClass:"layout-menu-title"},[t._t("tag")],2):t._e()]),t._v(" "),t.showTab?o("div",{staticClass:"layout-top-tab margin-top-5"},[t._t("tab")],2):t._e(),t._v(" "),o("div",{staticClass:"layout-bottom-tab margin-top-10"},[t._t("content")],2)])}),[],!1,null,null,null);e.default=component.exports},1318:function(t,e,o){"use strict";var l=o(86),n=o.n(l);e.a={data:function(){return{rules:{no:[{required:!0,message:this.$t("请输入建筑楼编号"),trigger:"blur"},{validator:n.a.FormValidate.Form().validatesn1_10Reg,trigger:"blur"}],name:[{required:!0,message:this.$t("请输入建筑楼名称"),trigger:"blur"},{validator:n.a.FormValidate.Form().validatenall1_20Reg,trigger:"blur"}],floorTotal:[{required:!0,message:this.$t("请输入总楼层"),trigger:"blur"},{validator:n.a.FormValidate.Form().validateNumber,trigger:"blur"}],startFloor:[{required:!0,message:this.$t("请输入起始楼层"),trigger:"blur"},{validator:n.a.FormValidate.Form().validateNumber,trigger:"blur"}],phone:[{required:!1,validator:n.a.FormValidate.Form().validatePhone,trigger:"blur"}]}}}}},1332:function(t,e,o){var content=o(1575);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(31).default)("2146b46b",content,!0,{sourceMap:!1})},1574:function(t,e,o){"use strict";var l=o(1332);o.n(l).a},1575:function(t,e,o){(e=o(30)(!1)).push([t.i,".container[data-v-114f9814]{padding:10px 15px}",""]),t.exports=e},1995:function(t,e,o){"use strict";o.r(e);o(65);var l=o(7),n=o(76),r=o(1260),c=o(235),d=o(6),f=o(1318),m={mixins:[n.a,f.a],components:{MyNormalDialog:r.default,DialogNormal:c.default},data:function(){return{tableData:[],modalVisible:!1,dialogLoading:!1,visibleConfim:!1,subTitle:"",form:{id:"",no:"",name:"",areaTotal:"0",insterest:"1",createTime:"",person:"",floorTotal:"",startFloor:"",phone:""}}},created:function(){this.init()},methods:{init:function(){var t=this;this.$axios(l.a.build_list,{params:{buildingType:0}}).then((function(e){e.data.data&&(t.tableData=e.data.data)}))},addInfo:function(){this.modalVisible=!0},editInfo:function(t){this.form={id:t.id,no:t.building_no,name:t.building_name,areaTotal:"0",insterest:"1",createTime:this.$moment().format("YYYY-MM"),person:t.person,floorTotal:t.storey,startFloor:t.start_storey,phone:t.phone},this.modalVisible=!0},deleteInfo:function(t){this.form.id=t.id,this.subTitle=t.building_name,this.visibleConfim=!0},insterestInfo:function(t){return Object(d.v)(t)},okDialog:function(t){var e=this,o="";this.$refs.form.validate((function(t){if(t){e.dialogLoading=!0;var n={buildingNo:e.form.no,buildingName:e.form.name,area:e.form.areaTotal,propertyRight:e.form.insterest,createTime:e.$moment().format("YYYY-MM"),storey:e.form.floorTotal,person:e.form.person,phone:e.form.phone,status:1,startStorey:e.form.startFloor,type:0};""!=e.form.id?(o=l.a.build_update,n.buildingId=e.form.id):o=l.a.build_add,n=e.$qs.stringify(n),e.$axios.post(o,n,{loading:!1}).then((function(t){200==t.data.code?(e.modalVisible=!1,e.init(),Object(d.b)(t.data.desc)):Object(d.a)(t.data.desc),e.dialogLoading=!1}))}}))},closeDialog:function(t){this.form={id:"",no:"",name:"",areaTotal:0,insterest:"1",createTime:"",person:"",floorTotal:"",startFloor:"",phone:""},this.subTitle="",this.$refs.form&&this.$refs.form.resetFields()},cancelDialog:function(){this.modalVisible=!1},handleOkChange:function(data){var t=this;this.dialogLoading=!0;var e,o={buildingId:this.form.id};e=l.a.build_delete,o=this.$qs.stringify(o),this.$axios.post(e,o).then((function(e){200==e.data.code?(t.init(),Object(d.b)(e.data.desc)):Object(d.a)(e.data.desc),t.visibleConfim=!1,t.dialogLoading=!1}))},handleCancelChange:function(data){this.visibleConfim=!1}}},h=(o(1574),o(10)),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("layout-tb",[o("template",{slot:"tag"},[t._v("建筑楼")]),t._v(" "),o("div",{attrs:{slot:"tab"},slot:"tab"},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.addInfo(e)}}},[t._v(t._s(t.$t("添加建筑楼")))])],1)],1)],1),t._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("el-table",{ref:"refTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-class-name":"custom-table-cell-bg",size:"medium","max-height":t.tableHeight.height}},[o("el-table-column",{attrs:{align:"center",prop:"building_no",label:t.$t("编号")}}),t._v(" "),o("el-table-column",{attrs:{align:"center",prop:"building_name",label:t.$t("名称")}}),t._v(" "),o("el-table-column",{attrs:{align:"center",prop:"storey",label:t.$t("总楼层数")}}),t._v(" "),o("el-table-column",{attrs:{align:"center",prop:"start_storey",label:t.$t("起始楼层")}}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:t.$t("负责人")},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.person?e.row.person:"--"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",label:t.$t("联系电话")},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.phone?e.row.phone:"--"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("i",{staticClass:"fa fa-edit margin-right-5 color-grand",on:{click:function(o){return t.editInfo(e.row)}}}),t._v(" "),o("i",{staticClass:"fa fa-trash color-danger",on:{click:function(o){return t.deleteInfo(e.row)}}})]}}])})],1),t._v(" "),o("div",{staticClass:"layout-right-footer text-right"},[o("span",{staticClass:"margin-right-10"},[t._v(t._s(t.$t("共"))+" "+t._s(t.tableData.length)+" "+t._s(t.$t("条")))])])],1)],2),t._v(" "),o("dialog-normal",{attrs:{visible:t.modalVisible,title:t.$t("建筑楼设置")},on:{close:t.closeDialog,"right-close":t.cancelDialog}},[o("div",{staticClass:"margin-top-10"},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"140px"}},[o("el-form-item",{attrs:{label:t.$t("建筑楼编号"),prop:"no"}},[o("el-input",{staticClass:"width-260",model:{value:t.form.no,callback:function(e){t.$set(t.form,"no",e)},expression:"form.no"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("建筑楼名称"),prop:"name"}},[o("el-input",{staticClass:"width-260",model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("总楼层数"),prop:"floorTotal"}},[o("el-input",{staticClass:"width-260",model:{value:t.form.floorTotal,callback:function(e){t.$set(t.form,"floorTotal",e)},expression:"form.floorTotal"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("起始楼层"),prop:"startFloor"}},[o("el-input",{staticClass:"width-260",model:{value:t.form.startFloor,callback:function(e){t.$set(t.form,"startFloor",e)},expression:"form.startFloor"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("负责人")}},[o("el-input",{staticClass:"width-260",model:{value:t.form.person,callback:function(e){t.$set(t.form,"person",e)},expression:"form.person"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("联系电话"),prop:"phone"}},[o("el-input",{staticClass:"width-260",model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1)],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:t.cancelDialog}},[t._v(t._s(t.$t("取消")))]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){0==t.dialogLoading&&t.okDialog()}}},[t.dialogLoading?o("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n        "+t._s(t.$t("确定"))+"\n      ")])],1)]),t._v(" "),o("my-normal-dialog",{attrs:{visible:t.visibleConfim,loading:t.dialogLoading,title:"提示",detail:t.subTitle,content:"确认需要删除该信息？"},on:{"update:visible":function(e){t.visibleConfim=e},"ok-click":t.handleOkChange,"cancel-click":t.handleCancelChange,close:t.closeDialog}})],1)}),[],!1,null,"114f9814",null);e.default=component.exports;installComponents(component,{LayoutTb:o(1261).default,DialogNormal:o(235).default,MyNormalDialog:o(1260).default})}}]);