(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{1330:function(t,e,o){var content=o(1571);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(31).default)("22f85432",content,!0,{sourceMap:!1})},1565:function(t,e,o){t.exports=o.p+"img/login-logo.93338f4.png"},1566:function(t,e,o){t.exports=o.p+"img/login-screen-icon.0761a0b.png"},1567:function(t,e,o){t.exports=o.p+"img/login-text-left-icon.d063af1.png"},1568:function(t,e,o){t.exports=o.p+"img/login-icon-left-text.5601322.png"},1569:function(t,e,o){t.exports=o.p+"img/login-text-right-icon.b4184c7.png"},1570:function(t,e,o){"use strict";var n=o(1330);o.n(n).a},1571:function(t,e,o){(e=o(30)(!1)).push([t.i,".login-bg-class[data-v-6b4e4993]{position:absolute;top:0;left:0;height:100%;width:100%;min-width:1200px}.login-bg-icon-class[data-v-6b4e4993]{position:absolute;top:50%;left:20%;transform:translateY(-50%);height:300px;width:350px}.login-main-title-class[data-v-6b4e4993]{position:absolute;top:50%;left:15%;transform:translateY(-5%)}.login-block[data-v-6b4e4993]{height:450px;top:13%;background:#00cdff;background-image:linear-gradient(180deg,#00cdff,#0089d4)}.login-block[data-v-6b4e4993],.login-title[data-v-6b4e4993]{width:100%;min-width:1200px;position:relative}.login-title[data-v-6b4e4993]{height:88px;top:-85px;left:0;padding:0}.login-title-logo-block[data-v-6b4e4993]{margin-left:80px}.login-footer[data-v-6b4e4993]{height:80px;line-height:80px;width:100%;min-width:1200px;position:relative;top:18%;left:0;z-index:9}.login-logo[data-v-6b4e4993]{width:300px;height:100%}.login-tag-info[data-v-6b4e4993]{position:relative;bottom:10px}.login-tag-info label[data-v-6b4e4993]{padding:0 10px;font-size:14px}.login-user-opr[data-v-6b4e4993]{position:absolute;top:-6%;right:8%;width:320px;height:450px;background:#fafafa;padding:25px 20px;box-shadow:0 2px 5px rgba(0,0,0,.5)}.login-user-title[data-v-6b4e4993]{color:#0089d4;font-weight:700;font-size:20px}.login-title-label[data-v-6b4e4993]{color:#515151}.login-btn[data-v-6b4e4993]{width:100%}.login-bottom-other label[data-v-6b4e4993]{padding:0 20px}.login-main-title-text-class[data-v-6b4e4993]{height:40px;width:400px}.login-main-title-icon-left-class[data-v-6b4e4993]{height:40px;width:70px}.login-main-title-icon-right-class[data-v-6b4e4993]{height:40px;width:35px}.login-bottom-other-block[data-v-6b4e4993]{position:absolute;left:0;bottom:30px;width:100%;padding:0}.login-user-change-tag[data-v-6b4e4993]{position:absolute;right:0;top:0;color:#fefefe;font-size:12px;background:#e6a23c;border-top-left-radius:10px;border-bottom-left-radius:10px;padding:2px 8px}.left-bottom-triangle[data-v-6b4e4993]{border-right:18px solid transparent;right:-19px}.left-bottom-triangle[data-v-6b4e4993],.right-bottom-triangle[data-v-6b4e4993]{width:0;height:0;border-top:23px solid #909399;position:absolute;bottom:0}.right-bottom-triangle[data-v-6b4e4993]{border-left:18px solid transparent;left:-19px}.right-top-triangle[data-v-6b4e4993]{border-right:18px solid transparent;right:-18px}.left-top-triangle[data-v-6b4e4993],.right-top-triangle[data-v-6b4e4993]{width:0;height:0;border-bottom:27px solid #909399;position:absolute;top:0}.left-top-triangle[data-v-6b4e4993]{border-left:18px solid transparent;left:-18px}",""]),t.exports=e},1961:function(t,e,o){"use strict";o.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"login-title-logo-block"},[e("img",{staticClass:"login-logo",attrs:{src:o(1565)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticClass:"login-bg-icon-class",attrs:{src:o(1566)}}),this._v(" "),e("span",{staticClass:"login-main-title-class"},[e("img",{staticClass:"login-main-title-icon-left-class",attrs:{src:o(1567)}}),this._v(" "),e("img",{staticClass:"login-main-title-text-class",attrs:{src:o(1568)}}),this._v(" "),e("img",{staticClass:"login-main-title-icon-right-class",attrs:{src:o(1569)}})])])}],l=o(7),r=o(235),c=o(243),d=o(6),f=o(86),m=o.n(f),v={layout:"defaultFullScreen",mixins:[{data:function(){return{rules:{code:[{required:!0,message:this.$t("请输入信息"),trigger:"blur"}],phone:[{required:!0,message:this.$t("请输入信息"),trigger:"blur"},{validator:m.a.FormValidate.Form().validatePhone,trigger:"blur"}]}}}}],components:{DialogNormal:r.default,TimeoutButton:c.default},data:function(){return{userType:"2",userSubType:"1",copyright_information:"",dialogLoading:!1,modalVisible:!1,showContent:!1,updatePhoneMms:l.a.send_active_account,form:{username:"",password:"",campusNo:""},formAuth:{phone:"",code:"",userId:""},fullHeight:{height:""}}},mounted:function(){var t=this;window.onresize=function(){t.hh()},this.showContent=!0},beforeCreate:function(){this.showContent=!1},created:function(){this.hh(),this.initInfo()},methods:{hh:function(){this.fullHeight.height=window.innerHeight+20+"px"},initInfo:function(){var t=this;this.$axios.get("https://campus.9451.com/campusmanage/campus/get-copyright-information",{loading:!1}).then((function(e){200==e.data.code&&(t.copyright_information=e.data.data.copyright_information)}))},changeUserType:function(t){this.form.username="",this.form.password="",this.form.campusNo="",this.userType=t},changeSubType:function(t){this.form.username="",this.form.password="",this.form.campusNo="",this.userSubType=t},login:function(){var t=this,e="";if(""!=this.form.username&&""!=this.form.password){var o={clientType:0,accountType:0,account:this.form.username,password:Object(d.s)(this.form.password)};3==this.userSubType?(o.campusNo=this.form.campusNo,o.accountType=1):2==this.userSubType&&(o.accountType=3),1==this.userType&&(e=2),2==this.userType&&(e=4),o.userType=e,o=this.$qs.stringify(o),this.dialogLoading=!0,this.$axios.post(l.a.login_url,o,{loading:!1}).then((function(e){200==e.data.code?(t.$router.push("/"),localStorage.removeItem("menuTabList"),Object(d.b)(e.data.desc)):2032==e.data.code?(t.formAuth.userId=e.data.data.userInfo.userId,t.modalVisible=!0):Object(d.a)(e.data.desc),t.dialogLoading=!1}))}else Object(d.c)(this.$t("请输入正确的信息！"))},closeDialog:function(t){this.formAuth={phone:"",code:"",userId:""},this.$refs.formAuth&&this.$refs.formAuth.resetFields()},authBefore:function(){return""==this.formAuth.phone?(Object(d.c)(this.$t("请输入正确的手机号")),!1):!!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(this.formAuth.phone)},okDialog:function(t){var e=this;this.$refs.formAuth.validate((function(t){if(t){e.dialogLoading=!0;var o={phone:e.formAuth.phone,captcha:e.formAuth.code};o=e.$qs.stringify(o),e.$axios.post(l.a.set_active_account,o,{loading:!1}).then((function(t){200==t.data.code?(e.modalVisible=!1,e.userType=2,e.userSubType=1,e.form.username="",e.form.password="",e.form.campusNo="",Object(d.b)(t.data.desc+","+e.$t("请使用激活的手机号进行登录！"))):Object(d.a)(t.data.desc),e.dialogLoading=!1}))}}))},cancelDialog:function(){this.modalVisible=!1}}},h=(o(1570),o(10)),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",staticStyle:{"overflow-y":"auto",background:"url(/img/login-bg.png) no-repeat","background-size":"cover"},style:t.fullHeight},[0==t.showContent?o("div",{staticStyle:{position:"relative"}},[o("layout-lr-before")],1):o("div",{staticStyle:{position:"relative",top:"13%"}},[o("div",{staticClass:" animated fadeInLeftBig"},[o("div",[t._m(0),t._v(" "),o("span",{staticClass:"color-sub-grand login-tag-info"},[o("label",[t._v(t._s(t.$t("官网")))]),t._v("\n         |\n        "),o("label",[t._v(t._s(t.$t("帮助中心")))]),t._v("\n         |\n        "),o("label",[t._v(t._s(t.$t("关于我们")))])])])]),t._v(" "),o("div",{staticClass:"login-block"},[t._m(1),t._v(" "),o("div",{staticClass:"login-user-opr animated fadeInRightBig"},[o("div",{staticClass:"left-top-triangle"}),t._v(" "),o("div",{staticClass:"right-top-triangle"}),t._v(" "),o("div",{staticClass:"right-bottom-triangle"}),t._v(" "),o("div",{staticClass:"left-bottom-triangle"}),t._v(" "),1==t.userType?o("label",{staticClass:"login-user-change-tag select-none",on:{click:function(e){return t.changeUserType(2)}}},[o("i",{staticClass:"fa fa-retweet font-size-12"}),t._v(" "+t._s(t.$t("切换教师")))]):t._e(),t._v(" "),2==t.userType?o("label",{staticClass:"login-user-change-tag select-none",on:{click:function(e){return t.changeUserType(1)}}},[o("i",{staticClass:"fa fa-retweet font-size-12"}),t._v(" "+t._s(t.$t("切换管理员")))]):t._e(),t._v(" "),o("div",[o("span",{staticClass:"login-user-title"},[t._v(t._s(t.$t("用户登录")))]),t._v("\n          ｜\n          "),1==t.userType?o("span",{staticClass:"color-muted font-size-12"},[t._v(t._s(t.$t("管理员登录")))]):t._e(),t._v(" "),2==t.userType?o("span",{staticClass:"color-muted font-size-12"},[t._v(t._s(t.$t("教师登录")))]):t._e()]),t._v(" "),o("div",{staticClass:"line-height"}),t._v(" "),o("div",{staticClass:"margin-top-30"},[o("div",{directives:[{name:"show",rawName:"v-show",value:1==t.userType,expression:"userType == 1"}],staticClass:"animated fadeInLeft"},[o("div",[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("用户名")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)]),t._v(" "),o("div",{staticClass:"margin-top-20"},[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("密码")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{attrs:{"show-password":!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:2==t.userType,expression:"userType == 2"}],staticClass:"animated fadeInLeft"},[1==t.userSubType?o("div",[o("div",[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("用户名/手机号")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)]),t._v(" "),o("div",{staticClass:"margin-top-20"},[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("密码")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{attrs:{"show-password":!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)])]):t._e(),t._v(" "),3==t.userSubType?o("div",[o("div",[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("学校编号")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.campusNo,callback:function(e){t.$set(t.form,"campusNo",e)},expression:"form.campusNo"}})],1)]),t._v(" "),o("div",{staticClass:"margin-top-20"},[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("工号")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)]),t._v(" "),o("div",{staticClass:"margin-top-20"},[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("密码")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{attrs:{"show-password":!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)])]):t._e(),t._v(" "),2==t.userSubType?o("div",[o("div",[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("身份证号码")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)]),t._v(" "),o("div",{staticClass:"margin-top-20"},[o("div",[o("span",{staticClass:"login-title-label"},[t._v(t._s(t.$t("密码")))])]),t._v(" "),o("div",{staticClass:"margin-top-5"},[o("el-input",{attrs:{"show-password":!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)])]):t._e()]),t._v(" "),o("div",{staticClass:"margin-top-20"},[o("div",[o("el-button",{staticClass:"login-btn",attrs:{type:"primary",loading:t.dialogLoading},on:{click:t.login}},[t._v("\n                "+t._s(t.$t("登录"))+"\n              ")])],1)]),t._v(" "),2==t.userType?o("div",{staticClass:"login-bottom-other-block margin-top-40"},[o("div",{staticClass:"line-height"}),t._v(" "),o("div",{staticClass:"text-center login-bottom-other margin-top-10"},[o("label",{staticClass:"color-muted",on:{click:function(e){return t.changeSubType(1)}}},[o("i",{staticClass:"fa fa-user-circle-o"}),t._v(" "+t._s(t.$t("账号/手机号")))]),t._v(" "),o("label",{staticClass:"color-muted",on:{click:function(e){return t.changeSubType(2)}}},[o("i",{staticClass:"fa fa-id-card-o"}),t._v(" "+t._s(t.$t("身份证")))]),t._v(" "),o("label",{staticClass:"color-muted",on:{click:function(e){return t.changeSubType(3)}}},[o("i",{staticClass:"fa fa-credit-card"}),t._v(" "+t._s(t.$t("工号")))])])]):t._e()])])]),t._v(" "),o("div",{staticClass:"login-footer"},[o("div",{staticClass:"color-muted text-center"},[o("span",{staticClass:"font-size-15"},[t._v(t._s(t.copyright_information))])])])]),t._v(" "),o("dialog-normal",{attrs:{tabindex:"0",visible:t.modalVisible,"width-style":"450px",title:t.$t("账户设置")},on:{close:t.closeDialog,"right-close":t.cancelDialog}},[o("span",{attrs:{tabindex:"1"}}),t._v(" "),o("div",{staticClass:"margin-top-10"},[o("div",{staticClass:"padding-lr-30"},[o("div",[o("span",{staticClass:"color-warning"},[t._v(t._s(t.$t("系统检测到您未进行账户激活，需要")))])]),t._v(" "),o("div",{staticClass:"color-grand margin-top-10 font-size-18",staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.$t("绑定手机")))]),t._v(" "),o("div",{staticClass:"margin-top-10 color-muted"},[t._v(t._s(t.$t("绑定后的手机号可以用于账号登录以及找回密码！")))])]),t._v(" "),o("el-form",{ref:"formAuth",staticClass:"margin-top-20",attrs:{model:t.formAuth,rules:t.rules,"label-width":"90px"}},[o("el-form-item",{attrs:{label:t.$t("手机号"),prop:"phone"}},[o("el-input",{staticClass:"width-260",model:{value:t.formAuth.phone,callback:function(e){t.$set(t.formAuth,"phone",e)},expression:"formAuth.phone"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("验证码"),prop:"code"}},[o("el-input",{staticClass:"width-260",model:{value:t.formAuth.code,callback:function(e){t.$set(t.formAuth,"code",e)},expression:"formAuth.code"}},[o("template",{slot:"append"},[o("timeout-button",{attrs:{action:t.updatePhoneMms,data:{newPhone:this.formAuth.phone,userId:this.formAuth.userId},"auth-before":t.authBefore}},[[t._v(t._s(t.$t("获取验证码")))]],2)],1)],2)],1)],1)],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:t.cancelDialog}},[t._v(t._s(t.$t("取消")))]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){0==t.dialogLoading&&t.okDialog()}}},[t.dialogLoading?o("i",{staticClass:"el-icon-loading"}):t._e(),t._v("\n        "+t._s(t.$t("确定"))+"\n      ")])],1)])],1)}),n,!1,null,"6b4e4993",null);e.default=component.exports;installComponents(component,{LayoutLrBefore:o(346).default,TimeoutButton:o(243).default,DialogNormal:o(235).default})}}]);